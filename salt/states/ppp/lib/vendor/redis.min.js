(()=>{var t={9987:t=>{var e=[0,4129,8258,12387,16516,20645,24774,28903,33032,37161,41290,45419,49548,53677,57806,61935,4657,528,12915,8786,21173,17044,29431,25302,37689,33560,45947,41818,54205,50076,62463,58334,9314,13379,1056,5121,25830,29895,17572,21637,42346,46411,34088,38153,58862,62927,50604,54669,13907,9842,5649,1584,30423,26358,22165,18100,46939,42874,38681,34616,63455,59390,55197,51132,18628,22757,26758,30887,2112,6241,10242,14371,51660,55789,59790,63919,35144,39273,43274,47403,23285,19156,31415,27286,6769,2640,14899,10770,56317,52188,64447,60318,39801,35672,47931,43802,27814,31879,19684,23749,11298,15363,3168,7233,60846,64911,52716,56781,44330,48395,36200,40265,32407,28342,24277,20212,15891,11826,7761,3696,65439,61374,57309,53244,48923,44858,40793,36728,37256,33193,45514,41451,53516,49453,61774,57711,4224,161,12482,8419,20484,16421,28742,24679,33721,37784,41979,46042,49981,54044,58239,62302,689,4752,8947,13010,16949,21012,25207,29270,46570,42443,38312,34185,62830,58703,54572,50445,13538,9411,5280,1153,29798,25671,21540,17413,42971,47098,34713,38840,59231,63358,50973,55100,9939,14066,1681,5808,26199,30326,17941,22068,55628,51565,63758,59695,39368,35305,47498,43435,22596,18533,30726,26663,6336,2273,14466,10403,52093,56156,60223,64286,35833,39896,43963,48026,19061,23124,27191,31254,2801,6864,10931,14994,64814,60687,56684,52557,48554,44427,40424,36297,31782,27655,23652,19525,15522,11395,7392,3265,61215,65342,53085,57212,44955,49082,36825,40952,28183,32310,20053,24180,11923,16050,3793,7920];var r=function toUTF8Array(t){var e;var r=0;var n=0;var s=[];var o=t.length;for(;r<o;r++){e=t.charCodeAt(r);if(e<128){s[n++]=e}else if(e<2048){s[n++]=e>>6|192;s[n++]=e&63|128}else if((e&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320){e=65536+((e&1023)<<10)+(t.charCodeAt(++r)&1023);s[n++]=e>>18|240;s[n++]=e>>12&63|128;s[n++]=e>>6&63|128;s[n++]=e&63|128}else{s[n++]=e>>12|224;s[n++]=e>>6&63|128;s[n++]=e&63|128}}return s};var n=t.exports=function generate(t){var n;var s=0;var o=-1;var u=0;var i=0;var a=typeof t==="string"?r(t):t;var m=a.length;while(s<m){n=a[s++];if(o===-1){if(n===123){o=s}}else if(n!==125){i=e[(n^i>>8)&255]^i<<8}else if(s-1!==o){return i&16383}u=e[(n^u>>8)&255]^u<<8}return u&16383};t.exports.generateMulti=function generateMulti(t){var e=1;var r=t.length;var s=n(t[0]);while(e<r){if(n(t[e++])!==s)return-1}return s}},5445:(t,e,r)=>{const n=r(6677);const s=r(3272);const o=r(5980);const u=r(1152);t.exports={Pool:n,Deque:s,PriorityQueue:o,DefaultEvictor:u,createPool:function(t,e){return new n(u,s,o,t,e)}}},1152:t=>{"use strict";class DefaultEvictor{evict(t,e,r){const n=Date.now()-e.lastIdleTime;if(t.softIdleTimeoutMillis>0&&t.softIdleTimeoutMillis<n&&t.min<r){return true}if(t.idleTimeoutMillis<n){return true}return false}}t.exports=DefaultEvictor},8673:t=>{"use strict";class Deferred{constructor(t){this._state=Deferred.PENDING;this._resolve=undefined;this._reject=undefined;this._promise=new t(((t,e)=>{this._resolve=t;this._reject=e}))}get state(){return this._state}get promise(){return this._promise}reject(t){if(this._state!==Deferred.PENDING){return}this._state=Deferred.REJECTED;this._reject(t)}resolve(t){if(this._state!==Deferred.PENDING){return}this._state=Deferred.FULFILLED;this._resolve(t)}}Deferred.PENDING="PENDING";Deferred.FULFILLED="FULFILLED";Deferred.REJECTED="REJECTED";t.exports=Deferred},3272:(t,e,r)=>{"use strict";const n=r(7220);const s=r(7460);class Deque{constructor(){this._list=new n}shift(){if(this.length===0){return undefined}const t=this._list.head;this._list.remove(t);return t.data}unshift(t){const e=n.createNode(t);this._list.insertBeginning(e)}push(t){const e=n.createNode(t);this._list.insertEnd(e)}pop(){if(this.length===0){return undefined}const t=this._list.tail;this._list.remove(t);return t.data}[Symbol.iterator](){return new s(this._list)}iterator(){return new s(this._list)}reverseIterator(){return new s(this._list,true)}get head(){if(this.length===0){return undefined}const t=this._list.head;return t.data}get tail(){if(this.length===0){return undefined}const t=this._list.tail;return t.data}get length(){return this._list.length}}t.exports=Deque},7460:(t,e,r)=>{"use strict";const n=r(5306);class DequeIterator extends n{next(){const t=super.next();if(t.value){t.value=t.value.data}return t}}t.exports=DequeIterator},7220:t=>{"use strict";class DoublyLinkedList{constructor(){this.head=null;this.tail=null;this.length=0}insertBeginning(t){if(this.head===null){this.head=t;this.tail=t;t.prev=null;t.next=null;this.length++}else{this.insertBefore(this.head,t)}}insertEnd(t){if(this.tail===null){this.insertBeginning(t)}else{this.insertAfter(this.tail,t)}}insertAfter(t,e){e.prev=t;e.next=t.next;if(t.next===null){this.tail=e}else{t.next.prev=e}t.next=e;this.length++}insertBefore(t,e){e.prev=t.prev;e.next=t;if(t.prev===null){this.head=e}else{t.prev.next=e}t.prev=e;this.length++}remove(t){if(t.prev===null){this.head=t.next}else{t.prev.next=t.next}if(t.next===null){this.tail=t.prev}else{t.next.prev=t.prev}t.prev=null;t.next=null;this.length--}static createNode(t){return{prev:null,next:null,data:t}}}t.exports=DoublyLinkedList},5306:t=>{"use strict";class DoublyLinkedListIterator{constructor(t,e){this._list=t;this._direction=e===true?"prev":"next";this._startPosition=e===true?"tail":"head";this._started=false;this._cursor=null;this._done=false}_start(){this._cursor=this._list[this._startPosition];this._started=true}_advanceCursor(){if(this._started===false){this._started=true;this._cursor=this._list[this._startPosition];return}this._cursor=this._cursor[this._direction]}reset(){this._done=false;this._started=false;this._cursor=null}remove(){if(this._started===false||this._done===true||this._isCursorDetached()){return false}this._list.remove(this._cursor)}next(){if(this._done===true){return{done:true}}this._advanceCursor();if(this._cursor===null||this._isCursorDetached()){this._done=true;return{done:true}}return{value:this._cursor,done:false}}_isCursorDetached(){return this._cursor.prev===null&&this._cursor.next===null&&this._list.tail!==this._cursor&&this._list.head!==this._cursor}}t.exports=DoublyLinkedListIterator},6677:(t,e,r)=>{"use strict";const n=r(2361).EventEmitter;const s=r(651);const o=r(3531);const u=r(7796);const i=r(1003);const a=r(5137);const m=r(1152);const f=r(3272);const c=r(8673);const l=r(5980);const d=r(7460);const _=r(3452).W;const g="factoryCreateError";const E="factoryDestroyError";class Pool extends n{constructor(t,e,r,n,u){super();s(n);this._config=new o(u);this._Promise=this._config.Promise;this._factory=n;this._draining=false;this._started=false;this._waitingClientsQueue=new r(this._config.priorityRange);this._factoryCreateOperations=new Set;this._factoryDestroyOperations=new Set;this._availableObjects=new e;this._testOnBorrowResources=new Set;this._testOnReturnResources=new Set;this._validationOperations=new Set;this._allObjects=new Set;this._resourceLoans=new Map;this._evictionIterator=this._availableObjects.iterator();this._evictor=new t;this._scheduledEviction=null;if(this._config.autostart===true){this.start()}}_destroy(t){t.invalidate();this._allObjects.delete(t);const e=this._factory.destroy(t.obj);const r=this._config.destroyTimeoutMillis?this._Promise.resolve(this._applyDestroyTimeout(e)):this._Promise.resolve(e);this._trackOperation(r,this._factoryDestroyOperations).catch((t=>{this.emit(E,t)}));this._ensureMinimum()}_applyDestroyTimeout(t){const e=new this._Promise(((t,e)=>{setTimeout((()=>{e(new Error("destroy timed out"))}),this._config.destroyTimeoutMillis).unref()}));return this._Promise.race([e,t])}_testOnBorrow(){if(this._availableObjects.length<1){return false}const t=this._availableObjects.shift();t.test();this._testOnBorrowResources.add(t);const e=this._factory.validate(t.obj);const r=this._Promise.resolve(e);this._trackOperation(r,this._validationOperations).then((e=>{this._testOnBorrowResources.delete(t);if(e===false){t.invalidate();this._destroy(t);this._dispense();return}this._dispatchPooledResourceToNextWaitingClient(t)}));return true}_dispatchResource(){if(this._availableObjects.length<1){return false}const t=this._availableObjects.shift();this._dispatchPooledResourceToNextWaitingClient(t);return false}_dispense(){const t=this._waitingClientsQueue.length;if(t<1){return}const e=t-this._potentiallyAllocableResourceCount;const r=Math.min(this.spareResourceCapacity,e);for(let t=0;r>t;t++){this._createResource()}if(this._config.testOnBorrow===true){const e=t-this._testOnBorrowResources.size;const r=Math.min(this._availableObjects.length,e);for(let t=0;r>t;t++){this._testOnBorrow()}}if(this._config.testOnBorrow===false){const e=Math.min(this._availableObjects.length,t);for(let t=0;e>t;t++){this._dispatchResource()}}}_dispatchPooledResourceToNextWaitingClient(t){const e=this._waitingClientsQueue.dequeue();if(e===undefined||e.state!==c.PENDING){this._addPooledResourceToAvailableObjects(t);return false}const r=new i(t,this._Promise);this._resourceLoans.set(t.obj,r);t.allocate();e.resolve(t.obj);return true}_trackOperation(t,e){e.add(t);return t.then((r=>{e.delete(t);return this._Promise.resolve(r)}),(r=>{e.delete(t);return this._Promise.reject(r)}))}_createResource(){const t=this._factory.create();const e=this._Promise.resolve(t).then((t=>{const e=new a(t);this._allObjects.add(e);this._addPooledResourceToAvailableObjects(e)}));this._trackOperation(e,this._factoryCreateOperations).then((()=>{this._dispense();return null})).catch((t=>{this.emit(g,t);this._dispense()}))}_ensureMinimum(){if(this._draining===true){return}const t=this._config.min-this._count;for(let e=0;e<t;e++){this._createResource()}}_evict(){const t=Math.min(this._config.numTestsPerEvictionRun,this._availableObjects.length);const e={softIdleTimeoutMillis:this._config.softIdleTimeoutMillis,idleTimeoutMillis:this._config.idleTimeoutMillis,min:this._config.min};for(let r=0;r<t;){const t=this._evictionIterator.next();if(t.done===true&&this._availableObjects.length<1){this._evictionIterator.reset();return}if(t.done===true&&this._availableObjects.length>0){this._evictionIterator.reset();continue}const n=t.value;const s=this._evictor.evict(e,n,this._availableObjects.length);r++;if(s===true){this._evictionIterator.remove();this._destroy(n)}}}_scheduleEvictorRun(){if(this._config.evictionRunIntervalMillis>0){this._scheduledEviction=setTimeout((()=>{this._evict();this._scheduleEvictorRun()}),this._config.evictionRunIntervalMillis)}}_descheduleEvictorRun(){if(this._scheduledEviction){clearTimeout(this._scheduledEviction)}this._scheduledEviction=null}start(){if(this._draining===true){return}if(this._started===true){return}this._started=true;this._scheduleEvictorRun();this._ensureMinimum()}acquire(t){if(this._started===false&&this._config.autostart===false){this.start()}if(this._draining){return this._Promise.reject(new Error("pool is draining and cannot accept work"))}if(this.spareResourceCapacity<1&&this._availableObjects.length<1&&this._config.maxWaitingClients!==undefined&&this._waitingClientsQueue.length>=this._config.maxWaitingClients){return this._Promise.reject(new Error("max waitingClients count exceeded"))}const e=new u(this._config.acquireTimeoutMillis,this._Promise);this._waitingClientsQueue.enqueue(e,t);this._dispense();return e.promise}use(t,e){return this.acquire(e).then((e=>t(e).then((t=>{this.release(e);return t}),(t=>{this.destroy(e);throw t}))))}isBorrowedResource(t){return this._resourceLoans.has(t)}release(t){const e=this._resourceLoans.get(t);if(e===undefined){return this._Promise.reject(new Error("Resource not currently part of this pool"))}this._resourceLoans.delete(t);e.resolve();const r=e.pooledResource;r.deallocate();this._addPooledResourceToAvailableObjects(r);this._dispense();return this._Promise.resolve()}destroy(t){const e=this._resourceLoans.get(t);if(e===undefined){return this._Promise.reject(new Error("Resource not currently part of this pool"))}this._resourceLoans.delete(t);e.resolve();const r=e.pooledResource;r.deallocate();this._destroy(r);this._dispense();return this._Promise.resolve()}_addPooledResourceToAvailableObjects(t){t.idle();if(this._config.fifo===true){this._availableObjects.push(t)}else{this._availableObjects.unshift(t)}}drain(){this._draining=true;return this.__allResourceRequestsSettled().then((()=>this.__allResourcesReturned())).then((()=>{this._descheduleEvictorRun()}))}__allResourceRequestsSettled(){if(this._waitingClientsQueue.length>0){return _(this._waitingClientsQueue.tail.promise)}return this._Promise.resolve()}__allResourcesReturned(){const t=Array.from(this._resourceLoans.values()).map((t=>t.promise)).map(_);return this._Promise.all(t)}clear(){const t=Array.from(this._factoryCreateOperations).map(_);return this._Promise.all(t).then((()=>{for(const t of this._availableObjects){this._destroy(t)}const t=Array.from(this._factoryDestroyOperations).map(_);return _(this._Promise.all(t))}))}ready(){return new this._Promise((t=>{const isReady=()=>{if(this.available>=this.min){t()}else{setTimeout(isReady,100)}};isReady()}))}get _potentiallyAllocableResourceCount(){return this._availableObjects.length+this._testOnBorrowResources.size+this._testOnReturnResources.size+this._factoryCreateOperations.size}get _count(){return this._allObjects.size+this._factoryCreateOperations.size}get spareResourceCapacity(){return this._config.max-(this._allObjects.size+this._factoryCreateOperations.size)}get size(){return this._count}get available(){return this._availableObjects.length}get borrowed(){return this._resourceLoans.size}get pending(){return this._waitingClientsQueue.length}get max(){return this._config.max}get min(){return this._config.min}}t.exports=Pool},4778:t=>{"use strict";class PoolDefaults{constructor(){this.fifo=true;this.priorityRange=1;this.testOnBorrow=false;this.testOnReturn=false;this.autostart=true;this.evictionRunIntervalMillis=0;this.numTestsPerEvictionRun=3;this.softIdleTimeoutMillis=-1;this.idleTimeoutMillis=3e4;this.acquireTimeoutMillis=null;this.destroyTimeoutMillis=null;this.maxWaitingClients=null;this.min=null;this.max=null;this.Promise=Promise}}t.exports=PoolDefaults},3531:(t,e,r)=>{"use strict";const n=r(4778);class PoolOptions{constructor(t){const e=new n;t=t||{};this.fifo=typeof t.fifo==="boolean"?t.fifo:e.fifo;this.priorityRange=t.priorityRange||e.priorityRange;this.testOnBorrow=typeof t.testOnBorrow==="boolean"?t.testOnBorrow:e.testOnBorrow;this.testOnReturn=typeof t.testOnReturn==="boolean"?t.testOnReturn:e.testOnReturn;this.autostart=typeof t.autostart==="boolean"?t.autostart:e.autostart;if(t.acquireTimeoutMillis){this.acquireTimeoutMillis=parseInt(t.acquireTimeoutMillis,10)}if(t.destroyTimeoutMillis){this.destroyTimeoutMillis=parseInt(t.destroyTimeoutMillis,10)}if(t.maxWaitingClients!==undefined){this.maxWaitingClients=parseInt(t.maxWaitingClients,10)}this.max=parseInt(t.max,10);this.min=parseInt(t.min,10);this.max=Math.max(isNaN(this.max)?1:this.max,1);this.min=Math.min(isNaN(this.min)?0:this.min,this.max);this.evictionRunIntervalMillis=t.evictionRunIntervalMillis||e.evictionRunIntervalMillis;this.numTestsPerEvictionRun=t.numTestsPerEvictionRun||e.numTestsPerEvictionRun;this.softIdleTimeoutMillis=t.softIdleTimeoutMillis||e.softIdleTimeoutMillis;this.idleTimeoutMillis=t.idleTimeoutMillis||e.idleTimeoutMillis;this.Promise=t.Promise!=null?t.Promise:e.Promise}}t.exports=PoolOptions},5137:(t,e,r)=>{"use strict";const n=r(6077);class PooledResource{constructor(t){this.creationTime=Date.now();this.lastReturnTime=null;this.lastBorrowTime=null;this.lastIdleTime=null;this.obj=t;this.state=n.IDLE}allocate(){this.lastBorrowTime=Date.now();this.state=n.ALLOCATED}deallocate(){this.lastReturnTime=Date.now();this.state=n.IDLE}invalidate(){this.state=n.INVALID}test(){this.state=n.VALIDATION}idle(){this.lastIdleTime=Date.now();this.state=n.IDLE}returning(){this.state=n.RETURNING}}t.exports=PooledResource},6077:t=>{"use strict";const e={ALLOCATED:"ALLOCATED",IDLE:"IDLE",INVALID:"INVALID",RETURNING:"RETURNING",VALIDATION:"VALIDATION"};t.exports=e},5980:(t,e,r)=>{"use strict";const n=r(4970);class PriorityQueue{constructor(t){this._size=Math.max(+t|0,1);this._slots=[];for(let t=0;t<this._size;t++){this._slots.push(new n)}}get length(){let t=0;for(let e=0,r=this._slots.length;e<r;e++){t+=this._slots[e].length}return t}enqueue(t,e){e=e&&+e|0||0;if(e){if(e<0||e>=this._size){e=this._size-1}}this._slots[e].push(t)}dequeue(){for(let t=0,e=this._slots.length;t<e;t+=1){if(this._slots[t].length){return this._slots[t].shift()}}return}get head(){for(let t=0,e=this._slots.length;t<e;t+=1){if(this._slots[t].length>0){return this._slots[t].head}}return}get tail(){for(let t=this._slots.length-1;t>=0;t--){if(this._slots[t].length>0){return this._slots[t].tail}}return}}t.exports=PriorityQueue},4970:(t,e,r)=>{"use strict";const n=r(7220);const s=r(3272);class Queue extends s{push(t){const e=n.createNode(t);t.promise.catch(this._createTimeoutRejectionHandler(e));this._list.insertEnd(e)}_createTimeoutRejectionHandler(t){return e=>{if(e.name==="TimeoutError"){this._list.remove(t)}}}}t.exports=Queue},1003:(t,e,r)=>{"use strict";const n=r(8673);class ResourceLoan extends n{constructor(t,e){super(e);this._creationTimestamp=Date.now();this.pooledResource=t}reject(){}}t.exports=ResourceLoan},7796:(t,e,r)=>{"use strict";const n=r(8673);const s=r(8285);function fbind(t,e){return function bound(){return t.apply(e,arguments)}}class ResourceRequest extends n{constructor(t,e){super(e);this._creationTimestamp=Date.now();this._timeout=null;if(t!==undefined){this.setTimeout(t)}}setTimeout(t){if(this._state!==ResourceRequest.PENDING){return}const e=parseInt(t,10);if(isNaN(e)||e<=0){throw new Error("delay must be a positive int")}const r=Date.now()-this._creationTimestamp;if(this._timeout){this.removeTimeout()}this._timeout=setTimeout(fbind(this._fireTimeout,this),Math.max(e-r,0))}removeTimeout(){if(this._timeout){clearTimeout(this._timeout)}this._timeout=null}_fireTimeout(){this.reject(new s.TimeoutError("ResourceRequest timed out"))}reject(t){this.removeTimeout();super.reject(t)}resolve(t){this.removeTimeout();super.resolve(t)}}t.exports=ResourceRequest},8285:t=>{"use strict";class ExtendableError extends Error{constructor(t){super(t);this.name=this.constructor.name;this.message=t;if(typeof Error.captureStackTrace==="function"){Error.captureStackTrace(this,this.constructor)}else{this.stack=new Error(t).stack}}}class TimeoutError extends ExtendableError{constructor(t){super(t)}}t.exports={TimeoutError:TimeoutError}},651:t=>{t.exports=function(t){if(typeof t.create!=="function"){throw new TypeError("factory.create must be a function")}if(typeof t.destroy!=="function"){throw new TypeError("factory.destroy must be a function")}if(typeof t.validate!=="undefined"&&typeof t.validate!=="function"){throw new TypeError("factory.validate must be a function")}}},3452:(t,e)=>{"use strict";function noop(){}e.W=function(t){return t.then(noop,noop)}},5514:t=>{"use strict";t.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next){yield t.value}}}},5706:(t,e,r)=>{"use strict";t.exports=Yallist;Yallist.Node=Node;Yallist.create=Yallist;function Yallist(t){var e=this;if(!(e instanceof Yallist)){e=new Yallist}e.tail=null;e.head=null;e.length=0;if(t&&typeof t.forEach==="function"){t.forEach((function(t){e.push(t)}))}else if(arguments.length>0){for(var r=0,n=arguments.length;r<n;r++){e.push(arguments[r])}}return e}Yallist.prototype.removeNode=function(t){if(t.list!==this){throw new Error("removing node which does not belong to this list")}var e=t.next;var r=t.prev;if(e){e.prev=r}if(r){r.next=e}if(t===this.head){this.head=e}if(t===this.tail){this.tail=r}t.list.length--;t.next=null;t.prev=null;t.list=null;return e};Yallist.prototype.unshiftNode=function(t){if(t===this.head){return}if(t.list){t.list.removeNode(t)}var e=this.head;t.list=this;t.next=e;if(e){e.prev=t}this.head=t;if(!this.tail){this.tail=t}this.length++};Yallist.prototype.pushNode=function(t){if(t===this.tail){return}if(t.list){t.list.removeNode(t)}var e=this.tail;t.list=this;t.prev=e;if(e){e.next=t}this.tail=t;if(!this.head){this.head=t}this.length++};Yallist.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++){push(this,arguments[t])}return this.length};Yallist.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++){unshift(this,arguments[t])}return this.length};Yallist.prototype.pop=function(){if(!this.tail){return undefined}var t=this.tail.value;this.tail=this.tail.prev;if(this.tail){this.tail.next=null}else{this.head=null}this.length--;return t};Yallist.prototype.shift=function(){if(!this.head){return undefined}var t=this.head.value;this.head=this.head.next;if(this.head){this.head.prev=null}else{this.tail=null}this.length--;return t};Yallist.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,n=0;r!==null;n++){t.call(e,r.value,n,this);r=r.next}};Yallist.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,n=this.length-1;r!==null;n--){t.call(e,r.value,n,this);r=r.prev}};Yallist.prototype.get=function(t){for(var e=0,r=this.head;r!==null&&e<t;e++){r=r.next}if(e===t&&r!==null){return r.value}};Yallist.prototype.getReverse=function(t){for(var e=0,r=this.tail;r!==null&&e<t;e++){r=r.prev}if(e===t&&r!==null){return r.value}};Yallist.prototype.map=function(t,e){e=e||this;var r=new Yallist;for(var n=this.head;n!==null;){r.push(t.call(e,n.value,this));n=n.next}return r};Yallist.prototype.mapReverse=function(t,e){e=e||this;var r=new Yallist;for(var n=this.tail;n!==null;){r.push(t.call(e,n.value,this));n=n.prev}return r};Yallist.prototype.reduce=function(t,e){var r;var n=this.head;if(arguments.length>1){r=e}else if(this.head){n=this.head.next;r=this.head.value}else{throw new TypeError("Reduce of empty list with no initial value")}for(var s=0;n!==null;s++){r=t(r,n.value,s);n=n.next}return r};Yallist.prototype.reduceReverse=function(t,e){var r;var n=this.tail;if(arguments.length>1){r=e}else if(this.tail){n=this.tail.prev;r=this.tail.value}else{throw new TypeError("Reduce of empty list with no initial value")}for(var s=this.length-1;n!==null;s--){r=t(r,n.value,s);n=n.prev}return r};Yallist.prototype.toArray=function(){var t=new Array(this.length);for(var e=0,r=this.head;r!==null;e++){t[e]=r.value;r=r.next}return t};Yallist.prototype.toArrayReverse=function(){var t=new Array(this.length);for(var e=0,r=this.tail;r!==null;e++){t[e]=r.value;r=r.prev}return t};Yallist.prototype.slice=function(t,e){e=e||this.length;if(e<0){e+=this.length}t=t||0;if(t<0){t+=this.length}var r=new Yallist;if(e<t||e<0){return r}if(t<0){t=0}if(e>this.length){e=this.length}for(var n=0,s=this.head;s!==null&&n<t;n++){s=s.next}for(;s!==null&&n<e;n++,s=s.next){r.push(s.value)}return r};Yallist.prototype.sliceReverse=function(t,e){e=e||this.length;if(e<0){e+=this.length}t=t||0;if(t<0){t+=this.length}var r=new Yallist;if(e<t||e<0){return r}if(t<0){t=0}if(e>this.length){e=this.length}for(var n=this.length,s=this.tail;s!==null&&n>e;n--){s=s.prev}for(;s!==null&&n>t;n--,s=s.prev){r.push(s.value)}return r};Yallist.prototype.splice=function(t,e,...r){if(t>this.length){t=this.length-1}if(t<0){t=this.length+t}for(var n=0,s=this.head;s!==null&&n<t;n++){s=s.next}var o=[];for(var n=0;s&&n<e;n++){o.push(s.value);s=this.removeNode(s)}if(s===null){s=this.tail}if(s!==this.head&&s!==this.tail){s=s.prev}for(var n=0;n<r.length;n++){s=insert(this,s,r[n])}return o};Yallist.prototype.reverse=function(){var t=this.head;var e=this.tail;for(var r=t;r!==null;r=r.prev){var n=r.prev;r.prev=r.next;r.next=n}this.head=e;this.tail=t;return this};function insert(t,e,r){var n=e===t.head?new Node(r,null,e,t):new Node(r,e,e.next,t);if(n.next===null){t.tail=n}if(n.prev===null){t.head=n}t.length++;return n}function push(t,e){t.tail=new Node(e,t.tail,null,t);if(!t.head){t.head=t.tail}t.length++}function unshift(t,e){t.head=new Node(e,null,t.head,t);if(!t.tail){t.tail=t.head}t.length++}function Node(t,e,r,n){if(!(this instanceof Node)){return new Node(t,e,r,n)}this.list=n;this.value=t;if(e){e.next=this;this.prev=e}else{this.prev=null}if(r){r.prev=this;this.next=r}else{this.next=null}}try{r(5514)(Yallist)}catch(t){}},990:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){if(n===undefined)n=r;var s=Object.getOwnPropertyDescriptor(e,r);if(!s||("get"in s?!e.__esModule:s.writable||s.configurable)){s={enumerable:true,get:function(){return e[r]}}}Object.defineProperty(t,n,s)}:function(t,e,r,n){if(n===undefined)n=r;t[n]=e[r]});var s=this&&this.__exportStar||function(t,e){for(var r in t)if(r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r))n(e,t,r)};Object.defineProperty(e,"__esModule",{value:true});e.GeoReplyWith=e.defineScript=e.createCluster=e.commandOptions=e.createClient=void 0;const o=r(936);const u=r(8791);e.createClient=o.default.create;e.commandOptions=o.default.commandOptions;e.createCluster=u.default.create;var i=r(6268);Object.defineProperty(e,"defineScript",{enumerable:true,get:function(){return i.defineScript}});var a=r(8723);Object.defineProperty(e,"GeoReplyWith",{enumerable:true,get:function(){return a.GeoReplyWith}});s(r(8783),e)},7721:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});class BufferComposer{constructor(){Object.defineProperty(this,"chunks",{enumerable:true,configurable:true,writable:true,value:[]})}write(t){this.chunks.push(t)}end(t){this.write(t);return Buffer.concat(this.chunks.splice(0))}reset(){this.chunks=[]}}e["default"]=BufferComposer},2132:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});const n=r(1576);class StringComposer{constructor(){Object.defineProperty(this,"decoder",{enumerable:true,configurable:true,writable:true,value:new n.StringDecoder});Object.defineProperty(this,"string",{enumerable:true,configurable:true,writable:true,value:""})}write(t){this.string+=this.decoder.write(t)}end(t){const e=this.string+this.decoder.end(t);this.string="";return e}reset(){this.string=""}}e["default"]=StringComposer},8187:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});const n=r(8783);const s=r(7721);const o=r(2132);var u;(function(t){t[t["SIMPLE_STRING"]=43]="SIMPLE_STRING";t[t["ERROR"]=45]="ERROR";t[t["INTEGER"]=58]="INTEGER";t[t["BULK_STRING"]=36]="BULK_STRING";t[t["ARRAY"]=42]="ARRAY"})(u||(u={}));var i;(function(t){t[t["CR"]=13]="CR";t[t["ZERO"]=48]="ZERO";t[t["MINUS"]=45]="MINUS"})(i||(i={}));class RESP2Decoder{constructor(t){Object.defineProperty(this,"options",{enumerable:true,configurable:true,writable:true,value:t});Object.defineProperty(this,"cursor",{enumerable:true,configurable:true,writable:true,value:0});Object.defineProperty(this,"type",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(this,"bufferComposer",{enumerable:true,configurable:true,writable:true,value:new s.default});Object.defineProperty(this,"stringComposer",{enumerable:true,configurable:true,writable:true,value:new o.default});Object.defineProperty(this,"currentStringComposer",{enumerable:true,configurable:true,writable:true,value:this.stringComposer});Object.defineProperty(this,"integer",{enumerable:true,configurable:true,writable:true,value:0});Object.defineProperty(this,"isNegativeInteger",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(this,"bulkStringRemainingLength",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(this,"arraysInProcess",{enumerable:true,configurable:true,writable:true,value:[]});Object.defineProperty(this,"initializeArray",{enumerable:true,configurable:true,writable:true,value:false});Object.defineProperty(this,"arrayItemType",{enumerable:true,configurable:true,writable:true,value:void 0})}reset(){this.cursor=0;this.type=undefined;this.bufferComposer.reset();this.stringComposer.reset();this.currentStringComposer=this.stringComposer}write(t){while(this.cursor<t.length){if(!this.type){this.currentStringComposer=this.options.returnStringsAsBuffers()?this.bufferComposer:this.stringComposer;this.type=t[this.cursor];if(++this.cursor>=t.length)break}const e=this.parseType(t,this.type);if(e===undefined)break;this.type=undefined;this.options.onReply(e)}this.cursor-=t.length}parseType(t,e,r){switch(e){case u.SIMPLE_STRING:return this.parseSimpleString(t);case u.ERROR:return this.parseError(t);case u.INTEGER:return this.parseInteger(t);case u.BULK_STRING:return this.parseBulkString(t);case u.ARRAY:return this.parseArray(t,r)}}compose(t,e){for(let r=this.cursor;r<t.length;r++){if(t[r]===i.CR){const n=e.end(t.subarray(this.cursor,r));this.cursor=r+2;return n}}const r=t.subarray(this.cursor);e.write(r);this.cursor=t.length}parseSimpleString(t){return this.compose(t,this.currentStringComposer)}parseError(t){const e=this.compose(t,this.stringComposer);if(e!==undefined){return new n.ErrorReply(e)}}parseInteger(t){if(this.isNegativeInteger===undefined){this.isNegativeInteger=t[this.cursor]===i.MINUS;if(this.isNegativeInteger&&++this.cursor===t.length)return}do{const e=t[this.cursor];if(e===i.CR){const t=this.isNegativeInteger?-this.integer:this.integer;this.integer=0;this.isNegativeInteger=undefined;this.cursor+=2;return t}this.integer=this.integer*10+e-i.ZERO}while(++this.cursor<t.length)}parseBulkString(t){if(this.bulkStringRemainingLength===undefined){const e=this.parseInteger(t);if(e===undefined)return;if(e===-1)return null;this.bulkStringRemainingLength=e;if(this.cursor>=t.length)return}const e=this.cursor+this.bulkStringRemainingLength;if(t.length>=e){const r=this.currentStringComposer.end(t.subarray(this.cursor,e));this.bulkStringRemainingLength=undefined;this.cursor=e+2;return r}const r=t.subarray(this.cursor);this.currentStringComposer.write(r);this.bulkStringRemainingLength-=r.length;this.cursor=t.length}parseArray(t,e=0){if(this.initializeArray||this.arraysInProcess.length===e){const r=this.parseInteger(t);if(r===undefined){this.initializeArray=true;return undefined}this.initializeArray=false;this.arrayItemType=undefined;if(r===-1){return this.returnArrayReply(null,e)}else if(r===0){return this.returnArrayReply([],e)}this.arraysInProcess.push({array:new Array(r),pushCounter:0})}while(this.cursor<t.length){if(!this.arrayItemType){this.arrayItemType=t[this.cursor];if(++this.cursor>=t.length)break}const r=this.parseType(t,this.arrayItemType,e+1);if(r===undefined)break;this.arrayItemType=undefined;const n=this.pushArrayItem(r,e);if(n!==undefined)return n}}returnArrayReply(t,e){if(this.arraysInProcess.length<=e)return t;return this.pushArrayItem(t,e)}pushArrayItem(t,e){const r=this.arraysInProcess[this.arraysInProcess.length-1];r.array[r.pushCounter]=t;if(++r.pushCounter===r.array.length){return this.returnArrayReply(this.arraysInProcess.pop().array,e)}}}e["default"]=RESP2Decoder},292:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});const r="\r\n";function encodeCommand(t){const e=[];let n="*"+t.length+r;for(let s=0;s<t.length;s++){const o=t[s];if(typeof o==="string"){n+="$"+Buffer.byteLength(o)+r+o+r}else if(o instanceof Buffer){e.push(n+"$"+o.length.toString()+r,o);n=r}else{throw new TypeError("Invalid argument type")}}e.push(n);return e}e["default"]=encodeCommand},4597:function(t,e,r){"use strict";var n=this&&this.__classPrivateFieldSet||function(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e==="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r};var s=this&&this.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e==="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)};var o,u,i,a,m,f,c,l,d,_,g,E,A,p;Object.defineProperty(e,"__esModule",{value:true});e.PubSubUnsubscribeCommands=e.PubSubSubscribeCommands=void 0;const h=r(5706);const R=r(8783);const I=r(8187);const S=r(292);var y;(function(t){t["SUBSCRIBE"]="SUBSCRIBE";t["PSUBSCRIBE"]="PSUBSCRIBE"})(y=e.PubSubSubscribeCommands||(e.PubSubSubscribeCommands={}));var O;(function(t){t["UNSUBSCRIBE"]="UNSUBSCRIBE";t["PUNSUBSCRIBE"]="PUNSUBSCRIBE"})(O=e.PubSubUnsubscribeCommands||(e.PubSubUnsubscribeCommands={}));class RedisCommandsQueue{constructor(t){o.add(this);m.set(this,void 0);f.set(this,new h);c.set(this,new h);l.set(this,{isActive:false,subscribing:0,subscribed:0,unsubscribing:0,listeners:{channels:new Map,patterns:new Map}});_.set(this,void 0);g.set(this,new I.default({returnStringsAsBuffers:()=>!!s(this,c,"f").head?.value.returnBuffers||s(this,l,"f").isActive,onReply:t=>{if(s(this,o,"m",p).call(this,t)){return}else if(!s(this,c,"f").length){throw new Error("Got an unexpected reply from Redis")}const{resolve:e,reject:r}=s(this,c,"f").shift();if(t instanceof R.ErrorReply){r(t)}else{e(t)}}}));n(this,m,t,"f")}addCommand(t,e){if(s(this,l,"f").isActive&&!e?.ignorePubSubMode){return Promise.reject(new Error("Cannot send commands in PubSub mode"))}else if(s(this,m,"f")&&s(this,f,"f").length+s(this,c,"f").length>=s(this,m,"f")){return Promise.reject(new Error("The queue is full"))}else if(e?.signal?.aborted){return Promise.reject(new R.AbortError)}return new Promise(((r,n)=>{const o=new h.Node({args:t,chainId:e?.chainId,returnBuffers:e?.returnBuffers,resolve:r,reject:n});if(e?.signal){const listener=()=>{s(this,f,"f").removeNode(o);o.value.reject(new R.AbortError)};o.value.abort={signal:e.signal,listener:listener};e.signal.addEventListener("abort",listener,{once:true})}if(e?.asap){s(this,f,"f").unshiftNode(o)}else{s(this,f,"f").pushNode(o)}}))}subscribe(t,e,r,n){const u=[],i=t===y.SUBSCRIBE?s(this,l,"f").listeners.channels:s(this,l,"f").listeners.patterns;for(const t of Array.isArray(e)?e:[e]){const e=typeof t==="string"?t:t.toString();let s=i.get(e);if(!s){s={buffers:new Set,strings:new Set};i.set(e,s);u.push(t)}(n?s.buffers:s.strings).add(r)}if(!u.length){return Promise.resolve()}return s(this,o,"m",E).call(this,t,u)}unsubscribe(t,e,r,n){const u=t===O.UNSUBSCRIBE?s(this,l,"f").listeners.channels:s(this,l,"f").listeners.patterns;if(!e){const e=u.size;u.clear();return s(this,o,"m",E).call(this,t,e)}const i=[];for(const t of Array.isArray(e)?e:[e]){const e=u.get(t);if(!e)continue;let s;if(r){(n?e.buffers:e.strings).delete(r);s=!e.buffers.size&&!e.strings.size}else{s=true}if(s){i.push(t);u.delete(t)}}if(!i.length){return Promise.resolve()}return s(this,o,"m",E).call(this,t,i)}resubscribe(){s(this,l,"f").subscribed=0;s(this,l,"f").subscribing=0;s(this,l,"f").unsubscribing=0;const t=[],{channels:e,patterns:r}=s(this,l,"f").listeners;if(e.size){t.push(s(this,o,"m",E).call(this,y.SUBSCRIBE,[...e.keys()]))}if(r.size){t.push(s(this,o,"m",E).call(this,y.PSUBSCRIBE,[...r.keys()]))}if(t.length){return Promise.all(t)}}getCommandToSend(){const t=s(this,f,"f").shift();if(!t)return;let e;try{e=(0,S.default)(t.args)}catch(e){t.reject(e);return}s(this,c,"f").push({resolve:t.resolve,reject:t.reject,channelsCounter:t.channelsCounter,returnBuffers:t.returnBuffers});n(this,_,t.chainId,"f");return e}onReplyChunk(t){s(this,g,"f").write(t)}flushWaitingForReply(t){s(this,g,"f").reset();s(this,l,"f").isActive=false;s(RedisCommandsQueue,u,"m",i).call(RedisCommandsQueue,s(this,c,"f"),t);if(!s(this,_,"f"))return;while(s(this,f,"f").head?.value.chainId===s(this,_,"f")){s(this,f,"f").shift()}n(this,_,undefined,"f")}flushAll(t){s(RedisCommandsQueue,u,"m",i).call(RedisCommandsQueue,s(this,c,"f"),t);s(RedisCommandsQueue,u,"m",i).call(RedisCommandsQueue,s(this,f,"f"),t)}}e["default"]=RedisCommandsQueue;u=RedisCommandsQueue,m=new WeakMap,f=new WeakMap,c=new WeakMap,l=new WeakMap,_=new WeakMap,g=new WeakMap,o=new WeakSet,i=function _RedisCommandsQueue_flushQueue(t,e){while(t.length){t.shift().reject(e)}},a=function _RedisCommandsQueue_emitPubSubMessage(t,e,r,n){const s=(n??r).toString(),o=t.get(s);if(!o)return;for(const t of o.buffers){t(e,r)}if(!o.strings.size)return;const u=n?r.toString():s,i=u==="__redis__:invalidate"?e===null?null:e.map((t=>t.toString())):e.toString();for(const t of o.strings){t(i,u)}},E=function _RedisCommandsQueue_pushPubSubCommand(t,e){return new Promise(((r,n)=>{const u=t===y.SUBSCRIBE||t===y.PSUBSCRIBE,i=u?"subscribing":"unsubscribing",a=[t];let m;if(typeof e==="number"){m=e}else{a.push(...e);m=e.length}s(this,l,"f").isActive=true;s(this,l,"f")[i]+=m;s(this,f,"f").push({args:a,channelsCounter:m,returnBuffers:true,resolve:()=>{s(this,l,"f")[i]-=m;s(this,l,"f").subscribed+=m*(u?1:-1);s(this,o,"m",A).call(this);r()},reject:t=>{s(this,l,"f")[i]-=m*(u?1:-1);s(this,o,"m",A).call(this);n(t)}})}))},A=function _RedisCommandsQueue_updatePubSubActiveState(){if(!s(this,l,"f").subscribed&&!s(this,l,"f").subscribing&&!s(this,l,"f").subscribed){s(this,l,"f").isActive=false}},p=function _RedisCommandsQueue_handlePubSubReply(t){if(!s(this,l,"f").isActive||!Array.isArray(t))return false;if(s(RedisCommandsQueue,u,"f",d).message.equals(t[0])){s(RedisCommandsQueue,u,"m",a).call(RedisCommandsQueue,s(this,l,"f").listeners.channels,t[2],t[1])}else if(s(RedisCommandsQueue,u,"f",d).pMessage.equals(t[0])){s(RedisCommandsQueue,u,"m",a).call(RedisCommandsQueue,s(this,l,"f").listeners.patterns,t[3],t[2],t[1])}else if(s(RedisCommandsQueue,u,"f",d).subscribe.equals(t[0])||s(RedisCommandsQueue,u,"f",d).pSubscribe.equals(t[0])||s(RedisCommandsQueue,u,"f",d).unsubscribe.equals(t[0])||s(RedisCommandsQueue,u,"f",d).pUnsubscribe.equals(t[0])){if(--s(this,c,"f").head.value.channelsCounter===0){s(this,c,"f").shift().resolve()}}return true};d={value:{message:Buffer.from("message"),pMessage:Buffer.from("pmessage"),subscribe:Buffer.from("subscribe"),pSubscribe:Buffer.from("psubscribe"),unsubscribe:Buffer.from("unsubscribe"),pUnsubscribe:Buffer.from("punsubscribe")}}},5921:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});const n=r(1370);const s=r(9493);const o=r(6857);const u=r(4882);const i=r(2608);const a=r(8085);const m=r(2435);const f=r(9953);const c=r(8648);const l=r(3357);const d=r(8885);const _=r(8761);const g=r(6789);const E=r(1993);const A=r(6235);const p=r(1924);const h=r(8478);const R=r(9044);const I=r(7282);const S=r(2130);const y=r(4437);const O=r(1395);const N=r(7446);const T=r(661);const v=r(1651);const b=r(4717);const D=r(5656);const P=r(206);const C=r(8908);const M=r(1287);const Y=r(4060);const L=r(8302);const F=r(646);const X=r(6494);const j=r(6308);const K=r(9617);const w=r(4693);const U=r(7136);const B=r(5815);const x=r(1346);const G=r(8929);const k=r(7581);const H=r(9140);const W=r(8672);const V=r(1738);const Z=r(7270);const z=r(2985);const q=r(5028);const Q=r(1990);const J=r(5769);const $=r(3540);const tt=r(3198);const et=r(9322);const rt=r(9468);const nt=r(7152);const st=r(2298);const ot=r(3416);const ut=r(9005);const it=r(9819);const at=r(7060);const mt=r(5661);const ft=r(9527);const ct=r(6801);const lt=r(6120);const dt=r(5594);const _t=r(138);const gt=r(5813);const Et=r(375);const At=r(4549);const pt=r(7679);const ht=r(5330);const Rt=r(2143);const It=r(9876);const St=r(6504);const yt=r(521);const Ot=r(6888);const Nt=r(4238);const Tt=r(2954);const vt=r(2334);const bt=r(6851);const Dt=r(2637);const Pt=r(6009);const Ct=r(6263);const Mt=r(1856);const Yt=r(6796);const Lt=r(9752);const Ft=r(8035);const Xt=r(3709);const jt=r(191);const Kt=r(5441);const wt=r(5982);const Ut=r(9257);const Bt=r(4979);const xt=r(779);const Gt=r(4176);const kt=r(6740);const Ht=r(2077);const Wt=r(6297);const Vt=r(2725);const Zt=r(6827);const zt=r(2037);const qt=r(9068);const Qt=r(4009);const Jt=r(4501);const $t=r(2184);const te=r(6258);const ee=r(2544);const re=r(7559);const ne=r(1349);const se=r(5676);const oe=r(1286);const ue=r(4742);const ie=r(5709);const ae=r(425);const me=r(6595);const fe=r(399);e["default"]={...n.default,ACL_CAT:s,aclCat:s,ACL_DELUSER:o,aclDelUser:o,ACL_DRYRUN:u,aclDryRun:u,ACL_GENPASS:i,aclGenPass:i,ACL_GETUSER:a,aclGetUser:a,ACL_LIST:m,aclList:m,ACL_LOAD:f,aclLoad:f,ACL_LOG_RESET:c,aclLogReset:c,ACL_LOG:l,aclLog:l,ACL_SAVE:d,aclSave:d,ACL_SETUSER:_,aclSetUser:_,ACL_USERS:g,aclUsers:g,ACL_WHOAMI:E,aclWhoAmI:E,ASKING:A,asking:A,AUTH:p,auth:p,BGREWRITEAOF:h,bgRewriteAof:h,BGSAVE:R,bgSave:R,CLIENT_CACHING:I,clientCaching:I,CLIENT_GETNAME:S,clientGetName:S,CLIENT_GETREDIR:y,clientGetRedir:y,CLIENT_ID:O,clientId:O,CLIENT_KILL:N,clientKill:N,"CLIENT_NO-EVICT":T,clientNoEvict:T,CLIENT_PAUSE:v,clientPause:v,CLIENT_SETNAME:b,clientSetName:b,CLIENT_TRACKING:D,clientTracking:D,CLIENT_TRACKINGINFO:P,clientTrackingInfo:P,CLIENT_UNPAUSE:C,clientUnpause:C,CLIENT_INFO:M,clientInfo:M,CLUSTER_ADDSLOTS:Y,clusterAddSlots:Y,CLUSTER_ADDSLOTSRANGE:L,clusterAddSlotsRange:L,CLUSTER_BUMPEPOCH:F,clusterBumpEpoch:F,CLUSTER_COUNT_FAILURE_REPORTS:X,clusterCountFailureReports:X,CLUSTER_COUNTKEYSINSLOT:j,clusterCountKeysInSlot:j,CLUSTER_DELSLOTS:K,clusterDelSlots:K,CLUSTER_DELSLOTSRANGE:w,clusterDelSlotsRange:w,CLUSTER_FAILOVER:U,clusterFailover:U,CLUSTER_FLUSHSLOTS:B,clusterFlushSlots:B,CLUSTER_FORGET:x,clusterForget:x,CLUSTER_GETKEYSINSLOT:G,clusterGetKeysInSlot:G,CLUSTER_INFO:k,clusterInfo:k,CLUSTER_KEYSLOT:H,clusterKeySlot:H,CLUSTER_LINKS:W,clusterLinks:W,CLUSTER_MEET:V,clusterMeet:V,CLUSTER_MYID:Z,clusterMyId:Z,CLUSTER_NODES:z,clusterNodes:z,CLUSTER_REPLICAS:q,clusterReplicas:q,CLUSTER_REPLICATE:Q,clusterReplicate:Q,CLUSTER_RESET:J,clusterReset:J,CLUSTER_SAVECONFIG:$,clusterSaveConfig:$,CLUSTER_SET_CONFIG_EPOCH:tt,clusterSetConfigEpoch:tt,CLUSTER_SETSLOT:et,clusterSetSlot:et,CLUSTER_SLOTS:rt,clusterSlots:rt,COMMAND_COUNT:nt,commandCount:nt,COMMAND_GETKEYS:st,commandGetKeys:st,COMMAND_GETKEYSANDFLAGS:ot,commandGetKeysAndFlags:ot,COMMAND_INFO:ut,commandInfo:ut,COMMAND_LIST:it,commandList:it,COMMAND:at,command:at,CONFIG_GET:mt,configGet:mt,CONFIG_RESETASTAT:ft,configResetStat:ft,CONFIG_REWRITE:ct,configRewrite:ct,CONFIG_SET:lt,configSet:lt,DBSIZE:dt,dbSize:dt,DISCARD:_t,discard:_t,ECHO:gt,echo:gt,FAILOVER:Et,failover:Et,FLUSHALL:At,flushAll:At,FLUSHDB:pt,flushDb:pt,FUNCTION_DELETE:ht,functionDelete:ht,FUNCTION_DUMP:Rt,functionDump:Rt,FUNCTION_FLUSH:It,functionFlush:It,FUNCTION_KILL:St,functionKill:St,FUNCTION_LIST_WITHCODE:yt,functionListWithCode:yt,FUNCTION_LIST:Ot,functionList:Ot,FUNCTION_LOAD:Nt,functionLoad:Nt,FUNCTION_RESTORE:Tt,functionRestore:Tt,FUNCTION_STATS:vt,functionStats:vt,HELLO:bt,hello:bt,INFO:Dt,info:Dt,KEYS:Pt,keys:Pt,LASTSAVE:Ct,lastSave:Ct,LATENCY_DOCTOR:fe,latencyDoctor:fe,LOLWUT:Mt,lolwut:Mt,MEMORY_DOCTOR:Yt,memoryDoctor:Yt,"MEMORY_MALLOC-STATS":Lt,memoryMallocStats:Lt,MEMORY_PURGE:Ft,memoryPurge:Ft,MEMORY_STATS:Xt,memoryStats:Xt,MEMORY_USAGE:jt,memoryUsage:jt,MODULE_LIST:Kt,moduleList:Kt,MODULE_LOAD:wt,moduleLoad:wt,MODULE_UNLOAD:Ut,moduleUnload:Ut,MOVE:Bt,move:Bt,PING:xt,ping:xt,PUBSUB_CHANNELS:Gt,pubSubChannels:Gt,PUBSUB_NUMPAT:kt,pubSubNumPat:kt,PUBSUB_NUMSUB:Ht,pubSubNumSub:Ht,RANDOMKEY:Wt,randomKey:Wt,READONLY:Vt,readonly:Vt,READWRITE:Zt,readwrite:Zt,REPLICAOF:zt,replicaOf:zt,"RESTORE-ASKING":qt,restoreAsking:qt,ROLE:Qt,role:Qt,SAVE:Jt,save:Jt,SCAN:$t,scan:$t,SCRIPT_DEBUG:te,scriptDebug:te,SCRIPT_EXISTS:ee,scriptExists:ee,SCRIPT_FLUSH:re,scriptFlush:re,SCRIPT_KILL:ne,scriptKill:ne,SCRIPT_LOAD:se,scriptLoad:se,SHUTDOWN:oe,shutdown:oe,SWAPDB:ue,swapDb:ue,TIME:ie,time:ie,UNWATCH:ae,unwatch:ae,WAIT:me,wait:me}},936:function(t,e,r){"use strict";var n=this&&this.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e==="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)};var s=this&&this.__classPrivateFieldSet||function(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e==="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r};var o,u,i,a,m,f,c,l,d,_,g,E,A,p,h,R,I;Object.defineProperty(e,"__esModule",{value:true});const S=r(5921);const y=r(4482);const O=r(4597);const N=r(3113);const T=r(2361);const v=r(4190);const b=r(3867);const D=r(5445);const P=r(8783);const C=r(7310);class RedisClient extends T.EventEmitter{constructor(t){super();o.add(this);Object.defineProperty(this,"commandOptions",{enumerable:true,configurable:true,writable:true,value:RedisClient.commandOptions});u.set(this,void 0);i.set(this,void 0);a.set(this,void 0);m.set(this,void 0);f.set(this,{});c.set(this,0);Object.defineProperty(this,"select",{enumerable:true,configurable:true,writable:true,value:this.SELECT});Object.defineProperty(this,"subscribe",{enumerable:true,configurable:true,writable:true,value:this.SUBSCRIBE});Object.defineProperty(this,"pSubscribe",{enumerable:true,configurable:true,writable:true,value:this.PSUBSCRIBE});Object.defineProperty(this,"unsubscribe",{enumerable:true,configurable:true,writable:true,value:this.UNSUBSCRIBE});Object.defineProperty(this,"pUnsubscribe",{enumerable:true,configurable:true,writable:true,value:this.PUNSUBSCRIBE});Object.defineProperty(this,"quit",{enumerable:true,configurable:true,writable:true,value:this.QUIT});s(this,u,n(this,o,"m",l).call(this,t),"f");s(this,a,n(this,o,"m",d).call(this),"f");s(this,i,n(this,o,"m",_).call(this),"f");s(this,m,(0,D.createPool)({create:async()=>{const t=this.duplicate({isolationPoolOptions:undefined}).on("error",(t=>this.emit("error",t)));await t.connect();return t},destroy:t=>t.disconnect()},t?.isolationPoolOptions),"f");n(this,o,"m",g).call(this)}static commandOptions(t){return(0,v.commandOptions)(t)}static extend(t){const e=(0,b.attachExtensions)({BaseClass:RedisClient,modulesExecutor:RedisClient.prototype.commandsExecutor,modules:t?.modules,functionsExecutor:RedisClient.prototype.functionsExecuter,functions:t?.functions,scriptsExecutor:RedisClient.prototype.scriptsExecuter,scripts:t?.scripts});if(e!==RedisClient){e.prototype.Multi=N.default.extend(t)}return e}static create(t){return new(RedisClient.extend(t))(t)}static parseURL(t){const{hostname:e,port:r,protocol:n,username:s,password:o,pathname:u}=new C.URL(t),i={socket:{host:e}};if(n==="rediss:"){i.socket.tls=true}else if(n!=="redis:"){throw new TypeError("Invalid protocol")}if(r){i.socket.port=Number(r)}if(s){i.username=decodeURIComponent(s)}if(o){i.password=decodeURIComponent(o)}if(u.length>1){const t=Number(u.substring(1));if(isNaN(t)){throw new TypeError("Invalid pathname")}i.database=t}return i}get options(){return n(this,u,"f")}get isOpen(){return n(this,i,"f").isOpen}get isReady(){return n(this,i,"f").isReady}get v4(){if(!n(this,u,"f")?.legacyMode){throw new Error('the client is not in "legacy mode"')}return n(this,f,"f")}duplicate(t){return new(Object.getPrototypeOf(this).constructor)({...n(this,u,"f"),...t})}async connect(){await n(this,i,"f").connect()}async commandsExecutor(t,e){const{args:r,options:s}=(0,b.transformCommandArguments)(t,e);return(0,b.transformCommandReply)(t,await n(this,o,"m",A).call(this,r,s),r.preserve)}sendCommand(t,e){return n(this,o,"m",A).call(this,t,e)}async functionsExecuter(t,e,r){const{args:n,options:s}=(0,b.transformCommandArguments)(t,e);return(0,b.transformCommandReply)(t,await this.executeFunction(r,t,n,s),n.preserve)}executeFunction(t,e,r,s){return n(this,o,"m",A).call(this,(0,b.fCallArguments)(t,e,r),s)}async scriptsExecuter(t,e){const{args:r,options:n}=(0,b.transformCommandArguments)(t,e);return(0,b.transformCommandReply)(t,await this.executeScript(t,r,n),r.preserve)}async executeScript(t,e,r){const s=["EVALSHA",t.SHA1];if(t.NUMBER_OF_KEYS!==undefined){s.push(t.NUMBER_OF_KEYS.toString())}s.push(...e);try{return await n(this,o,"m",A).call(this,s,r)}catch(e){if(!e?.message?.startsWith?.("NOSCRIPT")){throw e}s[0]="EVAL";s[1]=t.SCRIPT;return n(this,o,"m",A).call(this,s,r)}}async SELECT(t,e){if(!(0,v.isCommandOptions)(t)){e=t;t=null}await n(this,o,"m",A).call(this,["SELECT",e.toString()],t);s(this,c,e,"f")}SUBSCRIBE(t,e,r){return n(this,o,"m",p).call(this,O.PubSubSubscribeCommands.SUBSCRIBE,t,e,r)}PSUBSCRIBE(t,e,r){return n(this,o,"m",p).call(this,O.PubSubSubscribeCommands.PSUBSCRIBE,t,e,r)}UNSUBSCRIBE(t,e,r){return n(this,o,"m",h).call(this,O.PubSubUnsubscribeCommands.UNSUBSCRIBE,t,e,r)}PUNSUBSCRIBE(t,e,r){return n(this,o,"m",h).call(this,O.PubSubUnsubscribeCommands.PUNSUBSCRIBE,t,e,r)}QUIT(){return n(this,i,"f").quit((()=>{const t=n(this,a,"f").addCommand(["QUIT"],{ignorePubSubMode:true});n(this,o,"m",R).call(this);return Promise.all([t,n(this,o,"m",I).call(this)])}))}executeIsolated(t){return n(this,m,"f").use(t)}multi(){return new this.Multi(this.multiExecutor.bind(this),n(this,u,"f")?.legacyMode)}async multiExecutor(t,e,r){const u=Promise.all(t.map((({args:t})=>n(this,a,"f").addCommand(t,{chainId:r}))));n(this,o,"m",R).call(this);const i=await u;if(e!==undefined){s(this,c,e,"f")}return i}async*scanIterator(t){let e=0;do{const r=await this.scan(e,t);e=r.cursor;for(const t of r.keys){yield t}}while(e!==0)}async*hScanIterator(t,e){let r=0;do{const n=await this.hScan(t,r,e);r=n.cursor;for(const t of n.tuples){yield t}}while(r!==0)}async*sScanIterator(t,e){let r=0;do{const n=await this.sScan(t,r,e);r=n.cursor;for(const t of n.members){yield t}}while(r!==0)}async*zScanIterator(t,e){let r=0;do{const n=await this.zScan(t,r,e);r=n.cursor;for(const t of n.members){yield t}}while(r!==0)}async disconnect(){n(this,a,"f").flushAll(new P.DisconnectsClientError);n(this,i,"f").disconnect();await n(this,o,"m",I).call(this)}}e["default"]=RedisClient;u=new WeakMap,i=new WeakMap,a=new WeakMap,m=new WeakMap,f=new WeakMap,c=new WeakMap,o=new WeakSet,l=function _RedisClient_initiateOptions(t){if(t?.url){const e=RedisClient.parseURL(t.url);if(t.socket){e.socket=Object.assign(t.socket,e.socket)}Object.assign(t,e)}if(t?.database){s(this,c,t.database,"f")}return t},d=function _RedisClient_initiateQueue(){return new O.default(n(this,u,"f")?.commandsQueueMaxLength)},_=function _RedisClient_initiateSocket(){const socketInitiator=async()=>{const t=[];if(n(this,c,"f")!==0){t.push(n(this,a,"f").addCommand(["SELECT",n(this,c,"f").toString()],{asap:true}))}if(n(this,u,"f")?.readonly){t.push(n(this,a,"f").addCommand(S.default.READONLY.transformArguments(),{asap:true}))}if(n(this,u,"f")?.name){t.push(n(this,a,"f").addCommand(S.default.CLIENT_SETNAME.transformArguments(n(this,u,"f").name),{asap:true}))}if(n(this,u,"f")?.username||n(this,u,"f")?.password){t.push(n(this,a,"f").addCommand(S.default.AUTH.transformArguments({username:n(this,u,"f").username,password:n(this,u,"f").password??""}),{asap:true}))}const e=n(this,a,"f").resubscribe();if(e){t.push(e)}if(t.length){n(this,o,"m",R).call(this,true);await Promise.all(t)}};return new y.default(socketInitiator,n(this,u,"f")?.socket).on("data",(t=>n(this,a,"f").onReplyChunk(t))).on("error",(t=>{this.emit("error",t);if(n(this,i,"f").isOpen&&!n(this,u,"f")?.disableOfflineQueue){n(this,a,"f").flushWaitingForReply(t)}else{n(this,a,"f").flushAll(t)}})).on("connect",(()=>this.emit("connect"))).on("ready",(()=>{this.emit("ready");n(this,o,"m",R).call(this)})).on("reconnecting",(()=>this.emit("reconnecting"))).on("drain",(()=>n(this,o,"m",R).call(this))).on("end",(()=>this.emit("end")))},g=function _RedisClient_legacyMode(){if(!n(this,u,"f")?.legacyMode)return;n(this,f,"f").sendCommand=n(this,o,"m",A).bind(this);this.sendCommand=(...t)=>{let e;if(typeof t[t.length-1]==="function"){e=t.pop()}n(this,o,"m",A).call(this,(0,b.transformLegacyCommandArguments)(t)).then((t=>{if(!e)return;e(null,t)})).catch((t=>{if(!e){this.emit("error",t);return}e(t)}))};for(const t of Object.keys(S.default)){n(this,o,"m",E).call(this,t)}for(const t of Object.keys(S.default)){this[t.toLowerCase()]=this[t]}n(this,o,"m",E).call(this,"SELECT");n(this,o,"m",E).call(this,"select");n(this,o,"m",E).call(this,"SUBSCRIBE");n(this,o,"m",E).call(this,"subscribe");n(this,o,"m",E).call(this,"PSUBSCRIBE");n(this,o,"m",E).call(this,"pSubscribe");n(this,o,"m",E).call(this,"UNSUBSCRIBE");n(this,o,"m",E).call(this,"unsubscribe");n(this,o,"m",E).call(this,"PUNSUBSCRIBE");n(this,o,"m",E).call(this,"pUnsubscribe");n(this,o,"m",E).call(this,"QUIT");n(this,o,"m",E).call(this,"quit")},E=function _RedisClient_defineLegacyCommand(t){n(this,f,"f")[t]=this[t].bind(this);this[t]=(...e)=>this.sendCommand(t,...e)},A=function _RedisClient_sendCommand(t,e){if(!n(this,i,"f").isOpen){return Promise.reject(new P.ClientClosedError)}if(e?.isolated){return this.executeIsolated((r=>r.sendCommand(t,{...e,isolated:false})))}const r=n(this,a,"f").addCommand(t,e);n(this,o,"m",R).call(this);return r},p=function _RedisClient_subscribe(t,e,r,s){const u=n(this,a,"f").subscribe(t,e,r,s);n(this,o,"m",R).call(this);return u},h=function _RedisClient_unsubscribe(t,e,r,s){const u=n(this,a,"f").unsubscribe(t,e,r,s);n(this,o,"m",R).call(this);return u},R=function _RedisClient_tick(t=false){if(n(this,i,"f").writableNeedDrain||!t&&!n(this,i,"f").isReady){return}n(this,i,"f").cork();while(!n(this,i,"f").writableNeedDrain){const t=n(this,a,"f").getCommandToSend();if(t===undefined)break;n(this,i,"f").writeCommand(t)}},I=async function _RedisClient_destroyIsolationPool(){await n(this,m,"f").drain();await n(this,m,"f").clear()};(0,b.attachCommands)({BaseClass:RedisClient,commands:S.default,executor:RedisClient.prototype.commandsExecutor});RedisClient.prototype.Multi=N.default},3113:function(t,e,r){"use strict";var n=this&&this.__classPrivateFieldSet||function(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e==="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r};var s=this&&this.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e==="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)};var o,u,i,a,m,f;Object.defineProperty(e,"__esModule",{value:true});const c=r(5921);const l=r(4022);const d=r(3867);class RedisClientMultiCommand{constructor(t,e=false){o.add(this);u.set(this,new l.default);i.set(this,void 0);Object.defineProperty(this,"v4",{enumerable:true,configurable:true,writable:true,value:{}});a.set(this,void 0);Object.defineProperty(this,"select",{enumerable:true,configurable:true,writable:true,value:this.SELECT});Object.defineProperty(this,"EXEC",{enumerable:true,configurable:true,writable:true,value:this.exec});n(this,i,t,"f");if(e){s(this,o,"m",m).call(this)}}static extend(t){return(0,d.attachExtensions)({BaseClass:RedisClientMultiCommand,modulesExecutor:RedisClientMultiCommand.prototype.commandsExecutor,modules:t?.modules,functionsExecutor:RedisClientMultiCommand.prototype.functionsExecutor,functions:t?.functions,scriptsExecutor:RedisClientMultiCommand.prototype.scriptsExecutor,scripts:t?.scripts})}commandsExecutor(t,e){return this.addCommand(t.transformArguments(...e),t.transformReply)}SELECT(t,e){n(this,a,t,"f");return this.addCommand(["SELECT",t.toString()],e)}addCommand(t,e){s(this,u,"f").addCommand(t,e);return this}functionsExecutor(t,e,r){s(this,u,"f").addFunction(r,t,e);return this}scriptsExecutor(t,e){s(this,u,"f").addScript(t,e);return this}async exec(t=false){if(t){return this.execAsPipeline()}const e=s(this,u,"f").exec();if(!e)return[];return s(this,u,"f").handleExecReplies(await s(this,i,"f").call(this,e,s(this,a,"f"),l.default.generateChainId()))}async execAsPipeline(){return s(this,u,"f").transformReplies(await s(this,i,"f").call(this,s(this,u,"f").queue,s(this,a,"f")))}}e["default"]=RedisClientMultiCommand;u=new WeakMap,i=new WeakMap,a=new WeakMap,o=new WeakSet,m=function _RedisClientMultiCommand_legacyMode(){this.v4.addCommand=this.addCommand.bind(this);this.addCommand=(...t)=>{s(this,u,"f").addCommand((0,d.transformLegacyCommandArguments)(t));return this};this.v4.exec=this.exec.bind(this);this.exec=t=>{this.v4.exec().then((e=>{if(!t)return;t(null,e)})).catch((e=>{if(!t){return}t(e)}))};for(const t of Object.keys(c.default)){s(this,o,"m",f).call(this,t)}for(const t of Object.keys(c.default)){this[t.toLowerCase()]=this[t]}},f=function _RedisClientMultiCommand_defineLegacyCommand(t){this.v4[t]=this[t].bind(this.v4);this[t]=(...e)=>this.addCommand(t,...e)};(0,d.attachCommands)({BaseClass:RedisClientMultiCommand,commands:c.default,executor:RedisClientMultiCommand.prototype.commandsExecutor})},4482:function(t,e,r){"use strict";var n=this&&this.__classPrivateFieldSet||function(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e==="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r};var s=this&&this.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e==="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)};var o,u,i,a,m,f,c,l,d,_,g,E,A,p,h,R,I;Object.defineProperty(e,"__esModule",{value:true});const S=r(2361);const y=r(1808);const O=r(4404);const N=r(8783);const T=r(4767);class RedisSocket extends S.EventEmitter{constructor(t,e){super();o.add(this);f.set(this,void 0);c.set(this,void 0);l.set(this,void 0);d.set(this,false);_.set(this,false);g.set(this,false);I.set(this,false);n(this,f,t,"f");n(this,c,s(RedisSocket,u,"m",i).call(RedisSocket,e),"f")}get isOpen(){return s(this,d,"f")}get isReady(){return s(this,_,"f")}get writableNeedDrain(){return s(this,g,"f")}async connect(){if(s(this,d,"f")){throw new Error("Socket already opened")}return s(this,o,"m",E).call(this,0)}writeCommand(t){if(!s(this,l,"f")){throw new N.ClientClosedError}for(const e of t){n(this,g,!s(this,l,"f").write(e),"f")}}disconnect(){if(!s(this,l,"f")){throw new N.ClientClosedError}else{n(this,d,n(this,_,false,"f"),"f")}s(this,l,"f").destroy();n(this,l,undefined,"f");this.emit("end")}async quit(t){if(!s(this,d,"f")){throw new N.ClientClosedError}n(this,d,false,"f");await t();this.disconnect()}cork(){if(!s(this,l,"f")||s(this,I,"f")){return}s(this,l,"f").cork();n(this,I,true,"f");queueMicrotask((()=>{s(this,l,"f")?.uncork();n(this,I,false,"f")}))}}e["default"]=RedisSocket;u=RedisSocket,f=new WeakMap,c=new WeakMap,l=new WeakMap,d=new WeakMap,_=new WeakMap,g=new WeakMap,I=new WeakMap,o=new WeakSet,i=function _RedisSocket_initiateOptions(t){var e,r;t??(t={});if(!t.path){(e=t).port??(e.port=6379);(r=t).host??(r.host="localhost")}t.connectTimeout??(t.connectTimeout=5e3);t.keepAlive??(t.keepAlive=5e3);t.noDelay??(t.noDelay=true);return t},a=function _RedisSocket_defaultReconnectStrategy(t){return Math.min(t*50,500)},m=function _RedisSocket_isTlsSocket(t){return t.tls===true},E=async function _RedisSocket_connect(t,e){if(t>0||e){this.emit("reconnecting")}try{n(this,d,true,"f");n(this,l,await s(this,o,"m",A).call(this),"f");n(this,g,false,"f");this.emit("connect");try{await s(this,f,"f").call(this)}catch(t){s(this,l,"f").destroy();n(this,l,undefined,"f");throw t}n(this,_,true,"f");this.emit("ready")}catch(e){this.emit("error",e);const r=(s(this,c,"f")?.reconnectStrategy??s(RedisSocket,u,"m",a))(t);if(r instanceof Error){n(this,d,false,"f");throw new N.ReconnectStrategyError(r,e)}await(0,T.promiseTimeout)(r);return s(this,o,"m",_RedisSocket_connect).call(this,t+1)}},A=function _RedisSocket_createSocket(){return new Promise(((t,e)=>{const{connectEvent:r,socket:i}=s(RedisSocket,u,"m",m).call(RedisSocket,s(this,c,"f"))?s(this,o,"m",h).call(this):s(this,o,"m",p).call(this);if(s(this,c,"f").connectTimeout){i.setTimeout(s(this,c,"f").connectTimeout,(()=>i.destroy(new N.ConnectionTimeoutError)))}i.setNoDelay(s(this,c,"f").noDelay).once("error",e).once(r,(()=>{i.setTimeout(0).setKeepAlive(s(this,c,"f").keepAlive!==false,s(this,c,"f").keepAlive||0).off("error",e).once("error",(t=>s(this,o,"m",R).call(this,t))).once("close",(t=>{if(!t&&s(this,d,"f")&&s(this,l,"f")===i){s(this,o,"m",R).call(this,new N.SocketClosedUnexpectedlyError)}})).on("drain",(()=>{n(this,g,false,"f");this.emit("drain")})).on("data",(t=>this.emit("data",t)));t(i)}))}))},p=function _RedisSocket_createNetSocket(){return{connectEvent:"connect",socket:y.connect(s(this,c,"f"))}},h=function _RedisSocket_createTlsSocket(){return{connectEvent:"secureConnect",socket:O.connect(s(this,c,"f"))}},R=function _RedisSocket_onSocketError(t){n(this,_,false,"f");this.emit("error",t);s(this,o,"m",E).call(this,0,true).catch((()=>{}))}},826:function(t,e,r){"use strict";var n=this&&this.__classPrivateFieldSet||function(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e==="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r};var s=this&&this.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e==="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)};var o,u,i,a,m,f,c,l,d,_,g,E,A,p,h,R,I,S,y;Object.defineProperty(e,"__esModule",{value:true});const O=r(936);const N=r(8783);const T=r(9987);class RedisClusterSlots{constructor(t,e){o.add(this);u.set(this,void 0);i.set(this,void 0);a.set(this,void 0);m.set(this,new Map);f.set(this,[]);l.set(this,void 0);I.set(this,void 0);n(this,u,t,"f");n(this,i,O.default.extend(t),"f");n(this,a,e,"f")}async connect(){for(const t of s(this,u,"f").rootNodes){if(await s(this,o,"m",c).call(this,t))return}throw new N.RootNodesUnavailableError}async rediscover(t){if(!s(this,l,"f")){n(this,l,s(this,o,"m",d).call(this,t).finally((()=>n(this,l,undefined,"f"))),"f")}return s(this,l,"f")}getSlotMaster(t){return s(this,f,"f")[t].master}getClient(t,e){if(!t){return s(this,o,"m",S).call(this)}const r=T(t);if(!e||!s(this,u,"f").useReplicas){return this.getSlotMaster(r).client}return s(this,o,"m",R).call(this,r)}getMasters(){const t=[];for(const e of s(this,m,"f").values()){if(e.client.options?.readonly)continue;t.push(e)}return t}getNodeByAddress(t){const e=s(this,o,"m",A).call(this,t);return s(this,m,"f").get(e?`${e.host}:${e.port}`:t)}quit(){return s(this,o,"m",y).call(this,(t=>t.quit()))}disconnect(){return s(this,o,"m",y).call(this,(t=>t.disconnect()))}}e["default"]=RedisClusterSlots;u=new WeakMap,i=new WeakMap,a=new WeakMap,m=new WeakMap,f=new WeakMap,l=new WeakMap,I=new WeakMap,o=new WeakSet,c=async function _RedisClusterSlots_discoverNodes(t){const e=s(this,o,"m",E).call(this,t);await e.connect();try{await s(this,o,"m",_).call(this,await e.clusterNodes());return true}catch(t){s(this,a,"f").call(this,t);return false}finally{if(e.isOpen){await e.disconnect()}}},d=async function _RedisClusterSlots_rediscover(t){if(await s(this,o,"m",c).call(this,t.options))return;for(const{client:e}of s(this,m,"f").values()){if(e===t)continue;if(await s(this,o,"m",c).call(this,e.options))return}throw new Error("None of the cluster nodes is available")},_=async function _RedisClusterSlots_reset(t){const e=[],r=new Set;for(const n of t){const t={master:s(this,o,"m",p).call(this,n,false,r,e),replicas:s(this,u,"f").useReplicas?n.replicas.map((t=>s(this,o,"m",p).call(this,t,true,r,e))):[],clientIterator:undefined};for(const{from:e,to:r}of n.slots){for(let n=e;n<=r;n++){s(this,f,"f")[n]=t}}}for(const[t,{client:n}]of s(this,m,"f").entries()){if(r.has(t))continue;e.push(n.disconnect());s(this,m,"f").delete(t)}await Promise.all(e)},g=function _RedisClusterSlots_clientOptionsDefaults(t){if(!s(this,u,"f").defaults)return t;return{...s(this,u,"f").defaults,...t,socket:s(this,u,"f").defaults.socket&&t?.socket?{...s(this,u,"f").defaults.socket,...t.socket}:s(this,u,"f").defaults.socket??t?.socket}},E=function _RedisClusterSlots_initiateClient(t){return new(s(this,i,"f"))(s(this,o,"m",g).call(this,t)).on("error",s(this,a,"f"))},A=function _RedisClusterSlots_getNodeAddress(t){switch(typeof s(this,u,"f").nodeAddressMap){case"object":return s(this,u,"f").nodeAddressMap[t];case"function":return s(this,u,"f").nodeAddressMap(t)}},p=function _RedisClusterSlots_initiateClientForNode(t,e,r,n){const u=`${t.host}:${t.port}`;r.add(u);let i=s(this,m,"f").get(u);if(!i){i={id:t.id,client:s(this,o,"m",E).call(this,{socket:s(this,o,"m",A).call(this,u)??{host:t.host,port:t.port},readonly:e})};n.push(i.client.connect());s(this,m,"f").set(u,i)}return i},h=function*_RedisClusterSlots_slotClientIterator(t){const e=s(this,f,"f")[t];yield e.master.client;for(const t of e.replicas){yield t.client}},R=function _RedisClusterSlots_getSlotClient(t){const e=s(this,f,"f")[t];if(!e.clientIterator){e.clientIterator=s(this,o,"m",h).call(this,t)}const{done:r,value:n}=e.clientIterator.next();if(r){e.clientIterator=undefined;return s(this,o,"m",_RedisClusterSlots_getSlotClient).call(this,t)}return n},S=function _RedisClusterSlots_getRandomClient(){if(!s(this,m,"f").size){throw new Error("Cluster is not connected")}if(!s(this,I,"f")){n(this,I,s(this,m,"f").values(),"f")}const{done:t,value:e}=s(this,I,"f").next();if(t){n(this,I,undefined,"f");return s(this,o,"m",_RedisClusterSlots_getRandomClient).call(this)}return e.client},y=async function _RedisClusterSlots_destroy(t){const e=[];for(const{client:r}of s(this,m,"f").values()){e.push(t(r))}await Promise.all(e);s(this,m,"f").clear();s(this,f,"f").splice(0)}},1370:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});const n=r(5181);const s=r(9587);const o=r(6575);const u=r(7089);const i=r(7908);const a=r(6230);const m=r(9177);const f=r(5712);const c=r(2500);const l=r(7816);const d=r(7858);const _=r(9303);const g=r(6524);const E=r(8313);const A=r(8579);const p=r(2207);const h=r(2502);const R=r(3124);const I=r(5219);const S=r(1809);const y=r(6106);const O=r(3855);const N=r(4807);const T=r(6360);const v=r(6188);const b=r(7080);const D=r(8854);const P=r(2275);const C=r(405);const M=r(3517);const Y=r(569);const L=r(8566);const F=r(4537);const X=r(1203);const j=r(1422);const K=r(1911);const w=r(940);const U=r(5918);const B=r(8117);const x=r(426);const G=r(5009);const k=r(9163);const H=r(4300);const W=r(7714);const V=r(4923);const Z=r(715);const z=r(9453);const q=r(9852);const Q=r(4369);const J=r(7575);const $=r(738);const tt=r(4197);const et=r(6171);const rt=r(2679);const nt=r(3976);const st=r(8990);const ot=r(4304);const ut=r(4132);const it=r(9478);const at=r(5136);const mt=r(4592);const ft=r(2219);const ct=r(9242);const lt=r(3046);const dt=r(9329);const _t=r(9213);const gt=r(3238);const Et=r(7069);const At=r(7863);const pt=r(9335);const ht=r(3842);const Rt=r(4911);const It=r(9206);const St=r(7148);const yt=r(8940);const Ot=r(3005);const Nt=r(4033);const Tt=r(6116);const vt=r(6670);const bt=r(6539);const Dt=r(3425);const Pt=r(4173);const Ct=r(6219);const Mt=r(3157);const Yt=r(7430);const Lt=r(7567);const Ft=r(469);const Xt=r(1801);const jt=r(8896);const Kt=r(8517);const wt=r(9738);const Ut=r(5683);const Bt=r(2870);const xt=r(9866);const Gt=r(1526);const kt=r(4844);const Ht=r(8748);const Wt=r(2604);const Vt=r(8774);const Zt=r(8797);const zt=r(4150);const qt=r(3722);const Qt=r(9622);const Jt=r(3510);const $t=r(2739);const te=r(9383);const ee=r(6014);const re=r(3672);const ne=r(4954);const se=r(8537);const oe=r(9507);const ue=r(3761);const ie=r(1442);const ae=r(8527);const me=r(9254);const fe=r(7539);const ce=r(9280);const le=r(3923);const de=r(4745);const _e=r(6862);const ge=r(276);const Ee=r(1977);const Ae=r(6179);const pe=r(7493);const he=r(7896);const Re=r(2745);const Ie=r(8822);const Se=r(4591);const ye=r(7254);const Oe=r(3479);const Ne=r(4895);const Te=r(9841);const ve=r(3333);const be=r(4910);const De=r(5303);const Pe=r(7167);const Ce=r(3277);const Me=r(247);const Ye=r(1263);const Le=r(3231);const Fe=r(4141);const Xe=r(7878);const je=r(7173);const Ke=r(8831);const we=r(8818);const Ue=r(6209);const Be=r(2802);const xe=r(5086);const Ge=r(4389);const ke=r(9894);const He=r(7172);const We=r(887);const Ve=r(8287);const Ze=r(7931);const ze=r(5828);const qe=r(1412);const Qe=r(1446);const Je=r(4695);const $e=r(1522);const tr=r(4726);const er=r(389);const rr=r(9145);const nr=r(4617);const sr=r(1309);const or=r(3615);const ur=r(6760);const ir=r(1565);const ar=r(8266);const mr=r(7851);const fr=r(6498);const cr=r(830);const lr=r(3013);const dr=r(5602);const _r=r(6864);const gr=r(4684);const Er=r(5466);const Ar=r(2092);const pr=r(5608);const hr=r(928);const Rr=r(9259);const Ir=r(3931);const Sr=r(3921);const yr=r(8793);const Or=r(8230);const Nr=r(4225);const Tr=r(6634);const vr=r(5198);const br=r(1562);const Dr=r(6848);const Pr=r(7311);const Cr=r(8155);const Mr=r(5182);const Yr=r(4697);const Lr=r(9083);const Fr=r(7752);const Xr=r(6778);const jr=r(170);const Kr=r(3063);const wr=r(4961);const Ur=r(9666);const Br=r(8953);const xr=r(8474);const Gr=r(2548);const kr=r(3980);const Hr=r(8520);const Wr=r(7500);const Vr=r(232);const Zr=r(7686);const zr=r(519);const qr=r(339);e["default"]={APPEND:n,append:n,BITCOUNT:s,bitCount:s,BITFIELD_RO:o,bitFieldRo:o,BITFIELD:u,bitField:u,BITOP:i,bitOp:i,BITPOS:a,bitPos:a,BLMOVE:m,blMove:m,BLMPOP:f,blmPop:f,BLPOP:c,blPop:c,BRPOP:l,brPop:l,BRPOPLPUSH:d,brPopLPush:d,BZMPOP:_,bzmPop:_,BZPOPMAX:g,bzPopMax:g,BZPOPMIN:E,bzPopMin:E,COPY:A,copy:A,DECR:p,decr:p,DECRBY:h,decrBy:h,DEL:R,del:R,DUMP:I,dump:I,EVAL_RO:S,evalRo:S,EVAL:y,eval:y,EVALSHA:N,evalSha:N,EVALSHA_RO:O,evalShaRo:O,EXISTS:T,exists:T,EXPIRE:v,expire:v,EXPIREAT:b,expireAt:b,EXPIRETIME:D,expireTime:D,FCALL_RO:P,fCallRo:P,FCALL:C,fCall:C,GEOADD:M,geoAdd:M,GEODIST:Y,geoDist:Y,GEOHASH:L,geoHash:L,GEOPOS:F,geoPos:F,GEORADIUS_RO_WITH:X,geoRadiusRoWith:X,GEORADIUS_RO:j,geoRadiusRo:j,GEORADIUS_WITH:K,geoRadiusWith:K,GEORADIUS:w,geoRadius:w,GEORADIUSBYMEMBER_RO_WITH:U,geoRadiusByMemberRoWith:U,GEORADIUSBYMEMBER_RO:B,geoRadiusByMemberRo:B,GEORADIUSBYMEMBER_WITH:x,geoRadiusByMemberWith:x,GEORADIUSBYMEMBER:G,geoRadiusByMember:G,GEORADIUSBYMEMBERSTORE:k,geoRadiusByMemberStore:k,GEORADIUSSTORE:H,geoRadiusStore:H,GEOSEARCH_WITH:W,geoSearchWith:W,GEOSEARCH:V,geoSearch:V,GEOSEARCHSTORE:Z,geoSearchStore:Z,GET:z,get:z,GETBIT:q,getBit:q,GETDEL:Q,getDel:Q,GETEX:J,getEx:J,GETRANGE:$,getRange:$,GETSET:tt,getSet:tt,HDEL:et,hDel:et,HEXISTS:rt,hExists:rt,HGET:nt,hGet:nt,HGETALL:st,hGetAll:st,HINCRBY:ot,hIncrBy:ot,HINCRBYFLOAT:ut,hIncrByFloat:ut,HKEYS:it,hKeys:it,HLEN:at,hLen:at,HMGET:mt,hmGet:mt,HRANDFIELD_COUNT_WITHVALUES:ft,hRandFieldCountWithValues:ft,HRANDFIELD_COUNT:ct,hRandFieldCount:ct,HRANDFIELD:lt,hRandField:lt,HSCAN:dt,hScan:dt,HSET:_t,hSet:_t,HSETNX:gt,hSetNX:gt,HSTRLEN:Et,hStrLen:Et,HVALS:At,hVals:At,INCR:pt,incr:pt,INCRBY:ht,incrBy:ht,INCRBYFLOAT:Rt,incrByFloat:Rt,LCS_IDX_WITHMATCHLEN:It,lcsIdxWithMatchLen:It,LCS_IDX:St,lcsIdx:St,LCS_LEN:yt,lcsLen:yt,LCS:Ot,lcs:Ot,LINDEX:Nt,lIndex:Nt,LINSERT:Tt,lInsert:Tt,LLEN:vt,lLen:vt,LMOVE:bt,lMove:bt,LMPOP:Dt,lmPop:Dt,LPOP_COUNT:Pt,lPopCount:Pt,LPOP:Ct,lPop:Ct,LPOS_COUNT:Mt,lPosCount:Mt,LPOS:Yt,lPos:Yt,LPUSH:Lt,lPush:Lt,LPUSHX:Ft,lPushX:Ft,LRANGE:Xt,lRange:Xt,LREM:jt,lRem:jt,LSET:Kt,lSet:Kt,LTRIM:wt,lTrim:wt,MGET:Ut,mGet:Ut,MIGRATE:Bt,migrate:Bt,MSET:xt,mSet:xt,MSETNX:Gt,mSetNX:Gt,OBJECT_ENCODING:kt,objectEncoding:kt,OBJECT_FREQ:Ht,objectFreq:Ht,OBJECT_IDLETIME:Wt,objectIdleTime:Wt,OBJECT_REFCOUNT:Vt,objectRefCount:Vt,PERSIST:Zt,persist:Zt,PEXPIRE:zt,pExpire:zt,PEXPIREAT:qt,pExpireAt:qt,PEXPIRETIME:Qt,pExpireTime:Qt,PFADD:Jt,pfAdd:Jt,PFCOUNT:$t,pfCount:$t,PFMERGE:te,pfMerge:te,PSETEX:ee,pSetEx:ee,PTTL:re,pTTL:re,PUBLISH:ne,publish:ne,RENAME:se,rename:se,RENAMENX:oe,renameNX:oe,RPOP_COUNT:ue,rPopCount:ue,RPOP:ie,rPop:ie,RPOPLPUSH:ae,rPopLPush:ae,RPUSH:me,rPush:me,RPUSHX:fe,rPushX:fe,SADD:ce,sAdd:ce,SCARD:le,sCard:le,SDIFF:de,sDiff:de,SDIFFSTORE:_e,sDiffStore:_e,SINTER:Re,sInter:Re,SINTERCARD:Ie,sInterCard:Ie,SINTERSTORE:Se,sInterStore:Se,SET:ge,set:ge,SETBIT:Ee,setBit:Ee,SETEX:Ae,setEx:Ae,SETNX:pe,setNX:pe,SETRANGE:he,setRange:he,SISMEMBER:ye,sIsMember:ye,SMEMBERS:Oe,sMembers:Oe,SMISMEMBER:Ne,smIsMember:Ne,SMOVE:Te,sMove:Te,SORT_RO:ve,sortRo:ve,SORT_STORE:be,sortStore:be,SORT:De,sort:De,SPOP:Pe,sPop:Pe,SRANDMEMBER_COUNT:Ce,sRandMemberCount:Ce,SRANDMEMBER:Me,sRandMember:Me,SREM:Ye,sRem:Ye,SSCAN:Le,sScan:Le,STRLEN:Fe,strLen:Fe,SUNION:Xe,sUnion:Xe,SUNIONSTORE:je,sUnionStore:je,TOUCH:Ke,touch:Ke,TTL:we,ttl:we,TYPE:Ue,type:Ue,UNLINK:Be,unlink:Be,WATCH:xe,watch:xe,XACK:Ge,xAck:Ge,XADD:ke,xAdd:ke,XAUTOCLAIM_JUSTID:He,xAutoClaimJustId:He,XAUTOCLAIM:We,xAutoClaim:We,XCLAIM:Ze,xClaim:Ze,XCLAIM_JUSTID:Ve,xClaimJustId:Ve,XDEL:ze,xDel:ze,XGROUP_CREATE:qe,xGroupCreate:qe,XGROUP_CREATECONSUMER:Qe,xGroupCreateConsumer:Qe,XGROUP_DELCONSUMER:Je,xGroupDelConsumer:Je,XGROUP_DESTROY:$e,xGroupDestroy:$e,XGROUP_SETID:tr,xGroupSetId:tr,XINFO_CONSUMERS:er,xInfoConsumers:er,XINFO_GROUPS:rr,xInfoGroups:rr,XINFO_STREAM:nr,xInfoStream:nr,XLEN:sr,xLen:sr,XPENDING_RANGE:or,xPendingRange:or,XPENDING:ur,xPending:ur,XRANGE:ir,xRange:ir,XREAD:ar,xRead:ar,XREADGROUP:mr,xReadGroup:mr,XREVRANGE:fr,xRevRange:fr,XSETID:cr,xSetId:cr,XTRIM:lr,xTrim:lr,ZADD:dr,zAdd:dr,ZCARD:_r,zCard:_r,ZCOUNT:gr,zCount:gr,ZDIFF_WITHSCORES:Er,zDiffWithScores:Er,ZDIFF:Ar,zDiff:Ar,ZDIFFSTORE:pr,zDiffStore:pr,ZINCRBY:hr,zIncrBy:hr,ZINTER_WITHSCORES:Rr,zInterWithScores:Rr,ZINTER:Ir,zInter:Ir,ZINTERCARD:Sr,zInterCard:Sr,ZINTERSTORE:yr,zInterStore:yr,ZLEXCOUNT:Or,zLexCount:Or,ZMPOP:Nr,zmPop:Nr,ZMSCORE:Tr,zmScore:Tr,ZPOPMAX_COUNT:vr,zPopMaxCount:vr,ZPOPMAX:br,zPopMax:br,ZPOPMIN_COUNT:Dr,zPopMinCount:Dr,ZPOPMIN:Pr,zPopMin:Pr,ZRANDMEMBER_COUNT_WITHSCORES:Cr,zRandMemberCountWithScores:Cr,ZRANDMEMBER_COUNT:Mr,zRandMemberCount:Mr,ZRANDMEMBER:Yr,zRandMember:Yr,ZRANGE_WITHSCORES:Lr,zRangeWithScores:Lr,ZRANGE:Fr,zRange:Fr,ZRANGEBYLEX:Xr,zRangeByLex:Xr,ZRANGEBYSCORE_WITHSCORES:jr,zRangeByScoreWithScores:jr,ZRANGEBYSCORE:Kr,zRangeByScore:Kr,ZRANGESTORE:wr,zRangeStore:wr,ZRANK:Ur,zRank:Ur,ZREM:Br,zRem:Br,ZREMRANGEBYLEX:xr,zRemRangeByLex:xr,ZREMRANGEBYRANK:Gr,zRemRangeByRank:Gr,ZREMRANGEBYSCORE:kr,zRemRangeByScore:kr,ZREVRANK:Hr,zRevRank:Hr,ZSCAN:Wr,zScan:Wr,ZSCORE:Vr,zScore:Vr,ZUNION_WITHSCORES:Zr,zUnionWithScores:Zr,ZUNION:zr,zUnion:zr,ZUNIONSTORE:qr,zUnionStore:qr}},8791:function(t,e,r){"use strict";var n=this&&this.__classPrivateFieldSet||function(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e==="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r};var s=this&&this.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e==="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)};var o,u,i,a,m;Object.defineProperty(e,"__esModule",{value:true});const f=r(1370);const c=r(826);const l=r(3867);const d=r(2361);const _=r(8688);class RedisCluster extends d.EventEmitter{constructor(t){super();o.add(this);u.set(this,void 0);i.set(this,void 0);a.set(this,void 0);n(this,u,t,"f");n(this,i,new c.default(t,(t=>this.emit("error",t))),"f");n(this,a,_.default.extend(t),"f")}static extractFirstKey(t,e,r){if(t.FIRST_KEY_INDEX===undefined){return undefined}else if(typeof t.FIRST_KEY_INDEX==="number"){return r[t.FIRST_KEY_INDEX]}return t.FIRST_KEY_INDEX(...e)}static create(t){return new((0,l.attachExtensions)({BaseClass:RedisCluster,modulesExecutor:RedisCluster.prototype.commandsExecutor,modules:t?.modules,functionsExecutor:RedisCluster.prototype.functionsExecutor,functions:t?.functions,scriptsExecutor:RedisCluster.prototype.scriptsExecutor,scripts:t?.scripts}))(t)}duplicate(t){return new(Object.getPrototypeOf(this).constructor)({...s(this,u,"f"),...t})}async connect(){return s(this,i,"f").connect()}async commandsExecutor(t,e){const{args:r,options:n}=(0,l.transformCommandArguments)(t,e);return(0,l.transformCommandReply)(t,await this.sendCommand(RedisCluster.extractFirstKey(t,e,r),t.IS_READ_ONLY,r,n),r.preserve)}async sendCommand(t,e,r,n){return s(this,o,"m",m).call(this,t,e,(t=>t.sendCommand(r,n)))}async functionsExecutor(t,e,r){const{args:n,options:s}=(0,l.transformCommandArguments)(t,e);return(0,l.transformCommandReply)(t,await this.executeFunction(r,t,e,n,s),n.preserve)}async executeFunction(t,e,r,n,u){return s(this,o,"m",m).call(this,RedisCluster.extractFirstKey(e,r,n),e.IS_READ_ONLY,(r=>r.executeFunction(t,e,n,u)))}async scriptsExecutor(t,e){const{args:r,options:n}=(0,l.transformCommandArguments)(t,e);return(0,l.transformCommandReply)(t,await this.executeScript(t,e,r,n),r.preserve)}async executeScript(t,e,r,n){return s(this,o,"m",m).call(this,RedisCluster.extractFirstKey(t,e,r),t.IS_READ_ONLY,(e=>e.executeScript(t,r,n)))}multi(t){return new(s(this,a,"f"))(((t,e,r)=>s(this,o,"m",m).call(this,e,false,(e=>e.multiExecutor(t,undefined,r)))),t)}getMasters(){return s(this,i,"f").getMasters()}getSlotMaster(t){return s(this,i,"f").getSlotMaster(t)}quit(){return s(this,i,"f").quit()}disconnect(){return s(this,i,"f").disconnect()}}e["default"]=RedisCluster;u=new WeakMap,i=new WeakMap,a=new WeakMap,o=new WeakSet,m=async function _RedisCluster_execute(t,e,r){const n=s(this,u,"f").maxCommandRedirections??16;let o=s(this,i,"f").getClient(t,e);for(let u=0;;u++){try{return await r(o)}catch(r){if(++u>n||!(r instanceof Error)){throw r}if(r.message.startsWith("ASK")){const t=r.message.substring(r.message.lastIndexOf(" ")+1);if(s(this,i,"f").getNodeByAddress(t)?.client===o){await o.asking();continue}await s(this,i,"f").rediscover(o);const e=s(this,i,"f").getNodeByAddress(t);if(!e){throw new Error(`Cannot find node ${t}`)}await e.client.asking();o=e.client;continue}else if(r.message.startsWith("MOVED")){await s(this,i,"f").rediscover(o);o=s(this,i,"f").getClient(t,e);continue}throw r}}};(0,l.attachCommands)({BaseClass:RedisCluster,commands:f.default,executor:RedisCluster.prototype.commandsExecutor})},8688:function(t,e,r){"use strict";var n=this&&this.__classPrivateFieldSet||function(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e==="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r};var s=this&&this.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e==="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)};var o,u,i;Object.defineProperty(e,"__esModule",{value:true});const a=r(1370);const m=r(4022);const f=r(3867);const c=r(8791);class RedisClusterMultiCommand{constructor(t,e){o.set(this,new m.default);u.set(this,void 0);i.set(this,void 0);Object.defineProperty(this,"EXEC",{enumerable:true,configurable:true,writable:true,value:this.exec});n(this,u,t,"f");n(this,i,e,"f")}static extend(t){return(0,f.attachExtensions)({BaseClass:RedisClusterMultiCommand,modulesExecutor:RedisClusterMultiCommand.prototype.commandsExecutor,modules:t?.modules,functionsExecutor:RedisClusterMultiCommand.prototype.functionsExecutor,functions:t?.functions,scriptsExecutor:RedisClusterMultiCommand.prototype.scriptsExecutor,scripts:t?.scripts})}commandsExecutor(t,e){const r=t.transformArguments(...e);n(this,i,s(this,i,"f")??c.default.extractFirstKey(t,e,r),"f");return this.addCommand(undefined,r,t.transformReply)}addCommand(t,e,r){n(this,i,s(this,i,"f")??t,"f");s(this,o,"f").addCommand(e,r);return this}functionsExecutor(t,e,r){const u=s(this,o,"f").addFunction(r,t,e);n(this,i,s(this,i,"f")??c.default.extractFirstKey(t,e,u),"f");return this}scriptsExecutor(t,e){const r=s(this,o,"f").addScript(t,e);n(this,i,s(this,i,"f")??c.default.extractFirstKey(t,e,r),"f");return this}async exec(t=false){if(t){return this.execAsPipeline()}const e=s(this,o,"f").exec();if(!e)return[];return s(this,o,"f").handleExecReplies(await s(this,u,"f").call(this,e,s(this,i,"f"),m.default.generateChainId()))}async execAsPipeline(){return s(this,o,"f").transformReplies(await s(this,u,"f").call(this,s(this,o,"f").queue,s(this,i,"f")))}}e["default"]=RedisClusterMultiCommand;o=new WeakMap,u=new WeakMap,i=new WeakMap;(0,f.attachCommands)({BaseClass:RedisClusterMultiCommand,commands:a.default,executor:RedisClusterMultiCommand.prototype.commandsExecutor})},4190:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.isCommandOptions=e.commandOptions=void 0;const r=Symbol("Command Options");function commandOptions(t){t[r]=true;return t}e.commandOptions=commandOptions;function isCommandOptions(t){return t?.[r]===true}e.isCommandOptions=isCommandOptions},3867:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.fCallArguments=e.transformCommandReply=e.transformLegacyCommandArguments=e.transformCommandArguments=e.attachExtensions=e.attachCommands=void 0;const n=r(4190);function attachCommands({BaseClass:t,commands:e,executor:r}){for(const[n,s]of Object.entries(e)){t.prototype[n]=function(...t){return r.call(this,s,t,n)}}}e.attachCommands=attachCommands;function attachExtensions(t){let e;if(t.modules){e=attachWithNamespaces({BaseClass:t.BaseClass,namespaces:t.modules,executor:t.modulesExecutor})}if(t.functions){e=attachWithNamespaces({BaseClass:e??t.BaseClass,namespaces:t.functions,executor:t.functionsExecutor})}if(t.scripts){e??(e=class extends t.BaseClass{});attachCommands({BaseClass:e,commands:t.scripts,executor:t.scriptsExecutor})}return e??t.BaseClass}e.attachExtensions=attachExtensions;function attachWithNamespaces({BaseClass:t,namespaces:e,executor:r}){const n=class extends t{constructor(...t){super(...t);for(const t of Object.keys(e)){this[t]=Object.create(this[t],{self:{value:this}})}}};for(const[t,s]of Object.entries(e)){n.prototype[t]={};for(const[e,o]of Object.entries(s)){n.prototype[t][e]=function(...t){return r.call(this.self,o,t,e)}}}return n}function transformCommandArguments(t,e){let r;if((0,n.isCommandOptions)(e[0])){r=e[0];e=e.slice(1)}return{args:t.transformArguments(...e),options:r}}e.transformCommandArguments=transformCommandArguments;function transformLegacyCommandArguments(t){return t.flat().map((t=>typeof t==="number"||t instanceof Date?t.toString():t))}e.transformLegacyCommandArguments=transformLegacyCommandArguments;function transformCommandReply(t,e,r){if(!t.transformReply){return e}return t.transformReply(e,r)}e.transformCommandReply=transformCommandReply;function fCallArguments(t,e,r){const n=[e.IS_READ_ONLY?"FCALL_RO":"FCALL",t];if(e.NUMBER_OF_KEYS!==undefined){n.push(e.NUMBER_OF_KEYS.toString())}n.push(...r);return n}e.fCallArguments=fCallArguments},9493:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=void 0;function transformArguments(t){const e=["ACL","CAT"];if(t){e.push(t)}return e}e.transformArguments=transformArguments},6857:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=void 0;const n=r(8723);function transformArguments(t){return(0,n.pushVerdictArguments)(["ACL","DELUSER"],t)}e.transformArguments=transformArguments},4882:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.IS_READ_ONLY=void 0;e.IS_READ_ONLY=true;function transformArguments(t,e){return["ACL","DRYRUN",t,...e]}e.transformArguments=transformArguments},2608:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=void 0;function transformArguments(t){const e=["ACL","GENPASS"];if(t){e.push(t.toString())}return e}e.transformArguments=transformArguments},8085:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=void 0;function transformArguments(t){return["ACL","GETUSER",t]}e.transformArguments=transformArguments;function transformReply(t){return{flags:t[1],passwords:t[3],commands:t[5],keys:t[7],channels:t[9],selectors:t[11]}}e.transformReply=transformReply},2435:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=void 0;function transformArguments(){return["ACL","LIST"]}e.transformArguments=transformArguments},9953:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=void 0;function transformArguments(){return["ACL","LOAD"]}e.transformArguments=transformArguments},3357:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=void 0;function transformArguments(t){const e=["ACL","LOG"];if(t){e.push(t.toString())}return e}e.transformArguments=transformArguments;function transformReply(t){return t.map((t=>({count:t[1],reason:t[3],context:t[5],object:t[7],username:t[9],ageSeconds:Number(t[11]),clientInfo:t[13]})))}e.transformReply=transformReply},8648:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=void 0;function transformArguments(){return["ACL","LOG","RESET"]}e.transformArguments=transformArguments},8885:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=void 0;function transformArguments(){return["ACL","SAVE"]}e.transformArguments=transformArguments},8761:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=void 0;const n=r(8723);function transformArguments(t,e){return(0,n.pushVerdictArguments)(["ACL","SETUSER",t],e)}e.transformArguments=transformArguments},6789:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=void 0;function transformArguments(){return["ACL","USERS"]}e.transformArguments=transformArguments},1993:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=void 0;function transformArguments(){return["ACL","WHOAMI"]}e.transformArguments=transformArguments},5181:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;function transformArguments(t,e){return["APPEND",t,e]}e.transformArguments=transformArguments},6235:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=void 0;function transformArguments(){return["ASKING"]}e.transformArguments=transformArguments},1924:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=void 0;function transformArguments({username:t,password:e}){if(!t){return["AUTH",e]}return["AUTH",t,e]}e.transformArguments=transformArguments},8478:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=void 0;function transformArguments(){return["BGREWRITEAOF"]}e.transformArguments=transformArguments},9044:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=void 0;function transformArguments(t){const e=["BGSAVE"];if(t?.SCHEDULE){e.push("SCHEDULE")}return e}e.transformArguments=transformArguments},9587:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;e.IS_READ_ONLY=true;function transformArguments(t,e){const r=["BITCOUNT",t];if(e){r.push(e.start.toString(),e.end.toString());if(e.mode){r.push(e.mode)}}return r}e.transformArguments=transformArguments},7089:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;function transformArguments(t,e){const r=["BITFIELD",t];for(const t of e){switch(t.operation){case"GET":r.push("GET",t.encoding,t.offset.toString());break;case"SET":r.push("SET",t.encoding,t.offset.toString(),t.value.toString());break;case"INCRBY":r.push("INCRBY",t.encoding,t.offset.toString(),t.increment.toString());break;case"OVERFLOW":r.push("OVERFLOW",t.behavior);break}}return r}e.transformArguments=transformArguments},6575:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;e.IS_READ_ONLY=true;function transformArguments(t,e){const r=["BITFIELD_RO",t];for(const t of e){r.push("GET",t.encoding,t.offset.toString())}return r}e.transformArguments=transformArguments},7908:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;const n=r(8723);e.FIRST_KEY_INDEX=2;function transformArguments(t,e,r){return(0,n.pushVerdictArguments)(["BITOP",t,e],r)}e.transformArguments=transformArguments},6230:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;e.IS_READ_ONLY=true;function transformArguments(t,e,r,n,s){const o=["BITPOS",t,e.toString()];if(typeof r==="number"){o.push(r.toString())}if(typeof n==="number"){o.push(n.toString())}if(s){o.push(s)}return o}e.transformArguments=transformArguments},9177:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;function transformArguments(t,e,r,n,s){return["BLMOVE",t,e,r,n,s.toString()]}e.transformArguments=transformArguments},5712:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=e.FIRST_KEY_INDEX=void 0;const n=r(8723);e.FIRST_KEY_INDEX=3;function transformArguments(t,e,r,s){return(0,n.transformLMPopArguments)(["BLMPOP",t.toString()],e,r,s)}e.transformArguments=transformArguments;var s=r(3425);Object.defineProperty(e,"transformReply",{enumerable:true,get:function(){return s.transformReply}})},2500:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=e.FIRST_KEY_INDEX=void 0;const n=r(8723);e.FIRST_KEY_INDEX=1;function transformArguments(t,e){const r=(0,n.pushVerdictArguments)(["BLPOP"],t);r.push(e.toString());return r}e.transformArguments=transformArguments;function transformReply(t){if(t===null)return null;return{key:t[0],element:t[1]}}e.transformReply=transformReply},7816:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=e.FIRST_KEY_INDEX=void 0;const n=r(8723);e.FIRST_KEY_INDEX=1;function transformArguments(t,e){const r=(0,n.pushVerdictArguments)(["BRPOP"],t);r.push(e.toString());return r}e.transformArguments=transformArguments;var s=r(2500);Object.defineProperty(e,"transformReply",{enumerable:true,get:function(){return s.transformReply}})},7858:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;function transformArguments(t,e,r){return["BRPOPLPUSH",t,e,r.toString()]}e.transformArguments=transformArguments},9303:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=e.FIRST_KEY_INDEX=void 0;const n=r(8723);e.FIRST_KEY_INDEX=3;function transformArguments(t,e,r,s){return(0,n.transformZMPopArguments)(["BZMPOP",t.toString()],e,r,s)}e.transformArguments=transformArguments;var s=r(4225);Object.defineProperty(e,"transformReply",{enumerable:true,get:function(){return s.transformReply}})},6524:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=e.FIRST_KEY_INDEX=void 0;const n=r(8723);e.FIRST_KEY_INDEX=1;function transformArguments(t,e){const r=(0,n.pushVerdictArguments)(["BZPOPMAX"],t);r.push(e.toString());return r}e.transformArguments=transformArguments;function transformReply(t){if(!t)return null;return{key:t[0],value:t[1],score:(0,n.transformNumberInfinityReply)(t[2])}}e.transformReply=transformReply},8313:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=e.FIRST_KEY_INDEX=void 0;const n=r(8723);e.FIRST_KEY_INDEX=1;function transformArguments(t,e){const r=(0,n.pushVerdictArguments)(["BZPOPMIN"],t);r.push(e.toString());return r}e.transformArguments=transformArguments;var s=r(6524);Object.defineProperty(e,"transformReply",{enumerable:true,get:function(){return s.transformReply}})},7282:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=void 0;function transformArguments(t){return["CLIENT","CACHING",t?"YES":"NO"]}e.transformArguments=transformArguments},2130:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=void 0;function transformArguments(){return["CLIENT","GETNAME"]}e.transformArguments=transformArguments},4437:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=void 0;function transformArguments(){return["CLIENT","GETREDIR"]}e.transformArguments=transformArguments},1395:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.IS_READ_ONLY=void 0;e.IS_READ_ONLY=true;function transformArguments(){return["CLIENT","ID"]}e.transformArguments=transformArguments},1287:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=void 0;function transformArguments(){return["CLIENT","INFO"]}e.transformArguments=transformArguments;const r=/=([^\s]*)/g;function transformReply(t){const[[,e],[,n],[,s],[,o],[,u],[,i],[,a],[,m],[,f],[,c],[,l],[,d],[,_],[,g],[,E],[,A],[,p],[,h],[,R],[,I],[,S],[,y],[,O]]=[...t.matchAll(r)];return{id:Number(e),addr:n,laddr:s,fd:Number(o),name:u,age:Number(i),idle:Number(a),flags:m,db:Number(f),sub:Number(c),psub:Number(l),multi:Number(d),qbuf:Number(_),qbufFree:Number(g),argvMem:Number(E),obl:Number(A),oll:Number(p),omem:Number(h),totMem:Number(R),events:I,cmd:S,user:y,redir:Number(O)}}e.transformReply=transformReply},7446:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.ClientKillFilters=void 0;var r;(function(t){t["ADDRESS"]="ADDR";t["LOCAL_ADDRESS"]="LADDR";t["ID"]="ID";t["TYPE"]="TYPE";t["USER"]="USER";t["SKIP_ME"]="SKIPME"})(r=e.ClientKillFilters||(e.ClientKillFilters={}));function transformArguments(t){const e=["CLIENT","KILL"];if(Array.isArray(t)){for(const r of t){pushFilter(e,r)}}else{pushFilter(e,t)}return e}e.transformArguments=transformArguments;function pushFilter(t,e){if(e===r.SKIP_ME){t.push("SKIPME");return}t.push(e.filter);switch(e.filter){case r.ADDRESS:t.push(e.address);break;case r.LOCAL_ADDRESS:t.push(e.localAddress);break;case r.ID:t.push(typeof e.id==="number"?e.id.toString():e.id);break;case r.TYPE:t.push(e.type);break;case r.USER:t.push(e.username);break;case r.SKIP_ME:t.push(e.skipMe?"yes":"no");break}}},661:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=void 0;function transformArguments(t){return["CLIENT","NO-EVICT",t?"ON":"OFF"]}e.transformArguments=transformArguments},1651:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=void 0;function transformArguments(t,e){const r=["CLIENT","PAUSE",t.toString()];if(e){r.push(e)}return r}e.transformArguments=transformArguments},4717:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=void 0;function transformArguments(t){return["CLIENT","SETNAME",t]}e.transformArguments=transformArguments},5656:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=void 0;function transformArguments(t,e){const r=["CLIENT","TRACKING",t?"ON":"OFF"];if(t){if(e?.REDIRECT){r.push("REDIRECT",e.REDIRECT.toString())}if(isBroadcast(e)){r.push("BCAST");if(e?.PREFIX){if(Array.isArray(e.PREFIX)){for(const t of e.PREFIX){r.push("PREFIX",t)}}else{r.push("PREFIX",e.PREFIX)}}}else if(isOptIn(e)){r.push("OPTIN")}else if(isOptOut(e)){r.push("OPTOUT")}if(e?.NOLOOP){r.push("NOLOOP")}}return r}e.transformArguments=transformArguments;function isBroadcast(t){return t?.BCAST===true}function isOptIn(t){return t?.OPTIN===true}function isOptOut(t){return t?.OPTOUT===true}},206:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=void 0;function transformArguments(){return["CLIENT","TRACKINGINFO"]}e.transformArguments=transformArguments;function transformReply(t){return{flags:new Set(t[1]),redirect:t[3],prefixes:t[5]}}e.transformReply=transformReply},8908:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=void 0;function transformArguments(){return["CLIENT","UNPAUSE"]}e.transformArguments=transformArguments},4060:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=void 0;const n=r(8723);function transformArguments(t){return(0,n.pushVerdictNumberArguments)(["CLUSTER","ADDSLOTS"],t)}e.transformArguments=transformArguments},8302:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=void 0;const n=r(8723);function transformArguments(t){return(0,n.pushSlotRangesArguments)(["CLUSTER","ADDSLOTSRANGE"],t)}e.transformArguments=transformArguments},646:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=void 0;function transformArguments(){return["CLUSTER","BUMPEPOCH"]}e.transformArguments=transformArguments},6494:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=void 0;function transformArguments(t){return["CLUSTER","COUNT-FAILURE-REPORTS",t]}e.transformArguments=transformArguments},6308:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=void 0;function transformArguments(t){return["CLUSTER","COUNTKEYSINSLOT",t.toString()]}e.transformArguments=transformArguments},9617:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=void 0;const n=r(8723);function transformArguments(t){return(0,n.pushVerdictNumberArguments)(["CLUSTER","DELSLOTS"],t)}e.transformArguments=transformArguments},4693:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=void 0;const n=r(8723);function transformArguments(t){return(0,n.pushSlotRangesArguments)(["CLUSTER","DELSLOTSRANGE"],t)}e.transformArguments=transformArguments},7136:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FailoverModes=void 0;var r;(function(t){t["FORCE"]="FORCE";t["TAKEOVER"]="TAKEOVER"})(r=e.FailoverModes||(e.FailoverModes={}));function transformArguments(t){const e=["CLUSTER","FAILOVER"];if(t){e.push(t)}return e}e.transformArguments=transformArguments},5815:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=void 0;function transformArguments(){return["CLUSTER","FLUSHSLOTS"]}e.transformArguments=transformArguments},1346:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=void 0;function transformArguments(t){return["CLUSTER","FORGET",t]}e.transformArguments=transformArguments},8929:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=void 0;function transformArguments(t,e){return["CLUSTER","GETKEYSINSLOT",t.toString(),e.toString()]}e.transformArguments=transformArguments},7581:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.extractLineValue=e.transformReply=e.transformArguments=void 0;function transformArguments(){return["CLUSTER","INFO"]}e.transformArguments=transformArguments;function transformReply(t){const e=t.split("\r\n");return{state:extractLineValue(e[0]),slots:{assigned:Number(extractLineValue(e[1])),ok:Number(extractLineValue(e[2])),pfail:Number(extractLineValue(e[3])),fail:Number(extractLineValue(e[4]))},knownNodes:Number(extractLineValue(e[5])),size:Number(extractLineValue(e[6])),currentEpoch:Number(extractLineValue(e[7])),myEpoch:Number(extractLineValue(e[8])),stats:{messagesSent:Number(extractLineValue(e[9])),messagesReceived:Number(extractLineValue(e[10]))}}}e.transformReply=transformReply;function extractLineValue(t){return t.substring(t.indexOf(":")+1)}e.extractLineValue=extractLineValue},9140:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=void 0;function transformArguments(t){return["CLUSTER","KEYSLOT",t]}e.transformArguments=transformArguments},8672:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=void 0;function transformArguments(){return["CLUSTER","LINKS"]}e.transformArguments=transformArguments;function transformReply(t){return t.map((t=>({direction:t[1],node:t[3],createTime:Number(t[5]),events:t[7],sendBufferAllocated:Number(t[9]),sendBufferUsed:Number(t[11])})))}e.transformReply=transformReply},1738:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=void 0;function transformArguments(t,e){return["CLUSTER","MEET",t,e.toString()]}e.transformArguments=transformArguments},7270:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=void 0;function transformArguments(){return["CLUSTER","MYID"]}e.transformArguments=transformArguments},2985:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.RedisClusterNodeLinkStates=e.transformArguments=void 0;function transformArguments(){return["CLUSTER","NODES"]}e.transformArguments=transformArguments;var r;(function(t){t["CONNECTED"]="connected";t["DISCONNECTED"]="disconnected"})(r=e.RedisClusterNodeLinkStates||(e.RedisClusterNodeLinkStates={}));function transformReply(t){const e=t.split("\n");e.pop();const r=new Map,n=new Map;for(const t of e){const[e,s,o,u,i,a,m,f,...c]=t.split(" "),l={id:e,address:s,...transformNodeAddress(s),flags:o.split(","),pingSent:Number(i),pongRecv:Number(a),configEpoch:Number(m),linkState:f};if(u==="-"){let t=n.get(e);if(!t){t=[];n.set(e,t)}r.set(e,{...l,slots:c.map((t=>{const[e,r]=t.split("-",2),n=Number(e);return{from:n,to:r?Number(r):n}})),replicas:t})}else{const t=n.get(u);if(!t){n.set(u,[l])}else{t.push(l)}}}return[...r.values()]}e.transformReply=transformReply;function transformNodeAddress(t){const e=t.indexOf(":"),r=t.indexOf("@",e),n=t.substring(0,e);if(r===-1){return{host:n,port:Number(t.substring(e+1)),cport:null}}return{host:t.substring(0,e),port:Number(t.substring(e+1,r)),cport:Number(t.substring(r+1))}}},5028:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=void 0;function transformArguments(t){return["CLUSTER","REPLICAS",t]}e.transformArguments=transformArguments;var n=r(2985);Object.defineProperty(e,"transformReply",{enumerable:true,get:function(){return n.transformReply}})},1990:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=void 0;function transformArguments(t){return["CLUSTER","REPLICATE",t]}e.transformArguments=transformArguments},5769:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=void 0;function transformArguments(t){const e=["CLUSTER","RESET"];if(t){e.push(t)}return e}e.transformArguments=transformArguments},3540:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=void 0;function transformArguments(){return["CLUSTER","SAVECONFIG"]}e.transformArguments=transformArguments},3198:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=void 0;function transformArguments(t){return["CLUSTER","SET-CONFIG-EPOCH",t.toString()]}e.transformArguments=transformArguments},9322:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.ClusterSlotStates=void 0;var r;(function(t){t["IMPORTING"]="IMPORTING";t["MIGRATING"]="MIGRATING";t["STABLE"]="STABLE";t["NODE"]="NODE"})(r=e.ClusterSlotStates||(e.ClusterSlotStates={}));function transformArguments(t,e,r){const n=["CLUSTER","SETSLOT",t.toString(),e];if(r){n.push(r)}return n}e.transformArguments=transformArguments},9468:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=void 0;function transformArguments(){return["CLUSTER","SLOTS"]}e.transformArguments=transformArguments;function transformReply(t){return t.map((([t,e,r,...n])=>({from:t,to:e,master:transformNode(r),replicas:n.map(transformNode)})))}e.transformReply=transformReply;function transformNode([t,e,r]){return{ip:t,port:e,id:r}}},7060:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=e.IS_READ_ONLY=void 0;const n=r(8723);e.IS_READ_ONLY=true;function transformArguments(){return["COMMAND"]}e.transformArguments=transformArguments;function transformReply(t){return t.map(n.transformCommandReply)}e.transformReply=transformReply},7152:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.IS_READ_ONLY=void 0;e.IS_READ_ONLY=true;function transformArguments(){return["COMMAND","COUNT"]}e.transformArguments=transformArguments},2298:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.IS_READ_ONLY=void 0;e.IS_READ_ONLY=true;function transformArguments(t){return["COMMAND","GETKEYS",...t]}e.transformArguments=transformArguments},3416:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=e.IS_READ_ONLY=void 0;e.IS_READ_ONLY=true;function transformArguments(t){return["COMMAND","GETKEYSANDFLAGS",...t]}e.transformArguments=transformArguments;function transformReply(t){return t.map((([t,e])=>({key:t,flags:e})))}e.transformReply=transformReply},9005:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=e.IS_READ_ONLY=void 0;const n=r(8723);e.IS_READ_ONLY=true;function transformArguments(t){return["COMMAND","INFO",...t]}e.transformArguments=transformArguments;function transformReply(t){return t.map((t=>t?(0,n.transformCommandReply)(t):null))}e.transformReply=transformReply},9819:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FilterBy=e.IS_READ_ONLY=void 0;e.IS_READ_ONLY=true;var r;(function(t){t["MODULE"]="MODULE";t["ACLCAT"]="ACLCAT";t["PATTERN"]="PATTERN"})(r=e.FilterBy||(e.FilterBy={}));function transformArguments(t){const e=["COMMAND","LIST"];if(t){e.push("FILTERBY",t.filterBy,t.value)}return e}e.transformArguments=transformArguments},5661:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=void 0;function transformArguments(t){return["CONFIG","GET",t]}e.transformArguments=transformArguments;var n=r(8723);Object.defineProperty(e,"transformReply",{enumerable:true,get:function(){return n.transformTuplesReply}})},9527:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=void 0;function transformArguments(){return["CONFIG","RESETSTAT"]}e.transformArguments=transformArguments},6801:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=void 0;function transformArguments(){return["CONFIG","REWRITE"]}e.transformArguments=transformArguments},6120:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=void 0;function transformArguments(...[t,e]){const r=["CONFIG","SET"];if(typeof t==="string"){r.push(t,e)}else{for(const[e,n]of Object.entries(t)){r.push(e,n)}}return r}e.transformArguments=transformArguments},8579:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;function transformArguments(t,e,r){const n=["COPY",t,e];if(r?.destinationDb){n.push("DB",r.destinationDb.toString())}if(r?.replace){n.push("REPLACE")}return n}e.transformArguments=transformArguments;var n=r(8723);Object.defineProperty(e,"transformReply",{enumerable:true,get:function(){return n.transformBooleanReply}})},5594:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.IS_READ_ONLY=void 0;e.IS_READ_ONLY=true;function transformArguments(){return["DBSIZE"]}e.transformArguments=transformArguments},2207:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;function transformArguments(t){return["DECR",t]}e.transformArguments=transformArguments},2502:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;function transformArguments(t,e){return["DECRBY",t,e.toString()]}e.transformArguments=transformArguments},3124:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;const n=r(8723);e.FIRST_KEY_INDEX=1;function transformArguments(t){return(0,n.pushVerdictArguments)(["DEL"],t)}e.transformArguments=transformArguments},138:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=void 0;function transformArguments(){return["DISCARD"]}e.transformArguments=transformArguments},5219:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;function transformArguments(t){return["DUMP",t]}e.transformArguments=transformArguments},5813:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.IS_READ_ONLY=void 0;e.IS_READ_ONLY=true;function transformArguments(t){return["ECHO",t]}e.transformArguments=transformArguments},6106:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;const n=r(8723);e.FIRST_KEY_INDEX=n.evalFirstKeyIndex;function transformArguments(t,e){return(0,n.pushEvalArguments)(["EVAL",t],e)}e.transformArguments=transformArguments},4807:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;const n=r(8723);e.FIRST_KEY_INDEX=n.evalFirstKeyIndex;function transformArguments(t,e){return(0,n.pushEvalArguments)(["EVALSHA",t],e)}e.transformArguments=transformArguments},3855:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;const n=r(8723);e.FIRST_KEY_INDEX=n.evalFirstKeyIndex;e.IS_READ_ONLY=true;function transformArguments(t,e){return(0,n.pushEvalArguments)(["EVALSHA_RO",t],e)}e.transformArguments=transformArguments},1809:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;const n=r(8723);e.FIRST_KEY_INDEX=n.evalFirstKeyIndex;e.IS_READ_ONLY=true;function transformArguments(t,e){return(0,n.pushEvalArguments)(["EVAL_RO",t],e)}e.transformArguments=transformArguments},6360:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;const n=r(8723);e.FIRST_KEY_INDEX=1;e.IS_READ_ONLY=true;function transformArguments(t){return(0,n.pushVerdictArguments)(["EXISTS"],t)}e.transformArguments=transformArguments},6188:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;function transformArguments(t,e,r){const n=["EXPIRE",t,e.toString()];if(r){n.push(r)}return n}e.transformArguments=transformArguments;var n=r(8723);Object.defineProperty(e,"transformReply",{enumerable:true,get:function(){return n.transformBooleanReply}})},7080:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=e.FIRST_KEY_INDEX=void 0;const n=r(8723);e.FIRST_KEY_INDEX=1;function transformArguments(t,e,r){const s=["EXPIREAT",t,(0,n.transformEXAT)(e)];if(r){s.push(r)}return s}e.transformArguments=transformArguments;var s=r(8723);Object.defineProperty(e,"transformReply",{enumerable:true,get:function(){return s.transformBooleanReply}})},8854:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;function transformArguments(t){return["EXPIRETIME",t]}e.transformArguments=transformArguments},375:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=void 0;function transformArguments(t){const e=["FAILOVER"];if(t?.TO){e.push("TO",t.TO.host,t.TO.port.toString());if(t.TO.FORCE){e.push("FORCE")}}if(t?.ABORT){e.push("ABORT")}if(t?.TIMEOUT){e.push("TIMEOUT",t.TIMEOUT.toString())}return e}e.transformArguments=transformArguments},405:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;const n=r(8723);e.FIRST_KEY_INDEX=n.evalFirstKeyIndex;function transformArguments(t,e){return(0,n.pushEvalArguments)(["FCALL",t],e)}e.transformArguments=transformArguments},2275:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;const n=r(8723);e.FIRST_KEY_INDEX=n.evalFirstKeyIndex;e.IS_READ_ONLY=true;function transformArguments(t,e){return(0,n.pushEvalArguments)(["FCALL_RO",t],e)}e.transformArguments=transformArguments},4549:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.RedisFlushModes=void 0;var r;(function(t){t["ASYNC"]="ASYNC";t["SYNC"]="SYNC"})(r=e.RedisFlushModes||(e.RedisFlushModes={}));function transformArguments(t){const e=["FLUSHALL"];if(t){e.push(t)}return e}e.transformArguments=transformArguments},7679:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=void 0;function transformArguments(t){const e=["FLUSHDB"];if(t){e.push(t)}return e}e.transformArguments=transformArguments},5330:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=void 0;function transformArguments(t){return["FUNCTION","DELETE",t]}e.transformArguments=transformArguments},2143:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=void 0;function transformArguments(){return["FUNCTION","DUMP"]}e.transformArguments=transformArguments},9876:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=void 0;function transformArguments(t){const e=["FUNCTION","FLUSH"];if(t){e.push(t)}return e}e.transformArguments=transformArguments},6504:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=void 0;function transformArguments(){return["FUNCTION","KILL"]}e.transformArguments=transformArguments},6888:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=void 0;const n=r(8723);function transformArguments(t){const e=["FUNCTION","LIST"];if(t){e.push(t)}return e}e.transformArguments=transformArguments;function transformReply(t){return t.map(n.transformFunctionListItemReply)}e.transformReply=transformReply},521:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=void 0;const n=r(6888);const s=r(8723);function transformArguments(t){const e=(0,n.transformArguments)(t);e.push("WITHCODE");return e}e.transformArguments=transformArguments;function transformReply(t){return t.map((t=>({...(0,s.transformFunctionListItemReply)(t),libraryCode:t[7]})))}e.transformReply=transformReply},4238:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=void 0;function transformArguments(t,e){const r=["FUNCTION","LOAD"];if(e?.REPLACE){r.push("REPLACE")}r.push(t);return r}e.transformArguments=transformArguments},2954:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=void 0;function transformArguments(t,e){const r=["FUNCTION","RESTORE",t];if(e){r.push(e)}return r}e.transformArguments=transformArguments},2334:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=void 0;function transformArguments(){return["FUNCTION","STATS"]}e.transformArguments=transformArguments;function transformReply(t){const e=Object.create(null);for(let r=0;r<t[3].length;r++){e[t[3][r]]={librariesCount:t[3][++r][1],functionsCount:t[3][r][3]}}return{runningScript:t[1]===null?null:{name:t[1][1],command:t[1][3],durationMs:t[1][5]},engines:e}}e.transformReply=transformReply},3517:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;function transformArguments(t,e,r){const n=["GEOADD",t];if(r?.NX){n.push("NX")}else if(r?.XX){n.push("XX")}if(r?.CH){n.push("CH")}for(const{longitude:t,latitude:r,member:s}of Array.isArray(e)?e:[e]){n.push(t.toString(),r.toString(),s)}return n}e.transformArguments=transformArguments},569:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;e.IS_READ_ONLY=true;function transformArguments(t,e,r,n){const s=["GEODIST",t,e,r];if(n){s.push(n)}return s}e.transformArguments=transformArguments;function transformReply(t){return t===null?null:Number(t)}e.transformReply=transformReply},8566:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;const n=r(8723);e.FIRST_KEY_INDEX=1;e.IS_READ_ONLY=true;function transformArguments(t,e){return(0,n.pushVerdictArguments)(["GEOHASH",t],e)}e.transformArguments=transformArguments},4537:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;const n=r(8723);e.FIRST_KEY_INDEX=1;e.IS_READ_ONLY=true;function transformArguments(t,e){return(0,n.pushVerdictArguments)(["GEOPOS",t],e)}e.transformArguments=transformArguments;function transformReply(t){return t.map((t=>t===null?null:{longitude:t[0],latitude:t[1]}))}e.transformReply=transformReply},940:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;const n=r(8723);e.FIRST_KEY_INDEX=1;e.IS_READ_ONLY=true;function transformArguments(t,e,r,s,o){return(0,n.pushGeoRadiusArguments)(["GEORADIUS"],t,e,r,s,o)}e.transformArguments=transformArguments},5009:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;const n=r(8723);e.FIRST_KEY_INDEX=1;e.IS_READ_ONLY=true;function transformArguments(t,e,r,s,o){return(0,n.pushGeoRadiusArguments)(["GEORADIUSBYMEMBER"],t,e,r,s,o)}e.transformArguments=transformArguments},9163:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;const n=r(8723);var s=r(5009);Object.defineProperty(e,"FIRST_KEY_INDEX",{enumerable:true,get:function(){return s.FIRST_KEY_INDEX}});Object.defineProperty(e,"IS_READ_ONLY",{enumerable:true,get:function(){return s.IS_READ_ONLY}});function transformArguments(t,e,r,s,o,u){return(0,n.pushGeoRadiusStoreArguments)(["GEORADIUSBYMEMBER"],t,e,r,s,o,u)}e.transformArguments=transformArguments},8117:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;const n=r(8723);e.FIRST_KEY_INDEX=1;e.IS_READ_ONLY=true;function transformArguments(t,e,r,s,o){return(0,n.pushGeoRadiusArguments)(["GEORADIUSBYMEMBER_RO"],t,e,r,s,o)}e.transformArguments=transformArguments},5918:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;const n=r(8117);var s=r(8117);Object.defineProperty(e,"FIRST_KEY_INDEX",{enumerable:true,get:function(){return s.FIRST_KEY_INDEX}});Object.defineProperty(e,"IS_READ_ONLY",{enumerable:true,get:function(){return s.IS_READ_ONLY}});function transformArguments(t,e,r,s,o,u){const i=(0,n.transformArguments)(t,e,r,s,u);i.push(...o);i.preserve=o;return i}e.transformArguments=transformArguments;var o=r(8723);Object.defineProperty(e,"transformReply",{enumerable:true,get:function(){return o.transformGeoMembersWithReply}})},426:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;const n=r(5009);var s=r(5009);Object.defineProperty(e,"FIRST_KEY_INDEX",{enumerable:true,get:function(){return s.FIRST_KEY_INDEX}});Object.defineProperty(e,"IS_READ_ONLY",{enumerable:true,get:function(){return s.IS_READ_ONLY}});function transformArguments(t,e,r,s,o,u){const i=(0,n.transformArguments)(t,e,r,s,u);i.push(...o);i.preserve=o;return i}e.transformArguments=transformArguments;var o=r(8723);Object.defineProperty(e,"transformReply",{enumerable:true,get:function(){return o.transformGeoMembersWithReply}})},4300:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;const n=r(8723);var s=r(940);Object.defineProperty(e,"FIRST_KEY_INDEX",{enumerable:true,get:function(){return s.FIRST_KEY_INDEX}});Object.defineProperty(e,"IS_READ_ONLY",{enumerable:true,get:function(){return s.IS_READ_ONLY}});function transformArguments(t,e,r,s,o,u){return(0,n.pushGeoRadiusStoreArguments)(["GEORADIUS"],t,e,r,s,o,u)}e.transformArguments=transformArguments},1422:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;const n=r(8723);e.FIRST_KEY_INDEX=1;e.IS_READ_ONLY=true;function transformArguments(t,e,r,s,o){return(0,n.pushGeoRadiusArguments)(["GEORADIUS_RO"],t,e,r,s,o)}e.transformArguments=transformArguments},1203:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;const n=r(1422);var s=r(1422);Object.defineProperty(e,"FIRST_KEY_INDEX",{enumerable:true,get:function(){return s.FIRST_KEY_INDEX}});Object.defineProperty(e,"IS_READ_ONLY",{enumerable:true,get:function(){return s.IS_READ_ONLY}});function transformArguments(t,e,r,s,o,u){const i=(0,n.transformArguments)(t,e,r,s,u);i.push(...o);i.preserve=o;return i}e.transformArguments=transformArguments;var o=r(8723);Object.defineProperty(e,"transformReply",{enumerable:true,get:function(){return o.transformGeoMembersWithReply}})},1911:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;const n=r(940);var s=r(940);Object.defineProperty(e,"FIRST_KEY_INDEX",{enumerable:true,get:function(){return s.FIRST_KEY_INDEX}});Object.defineProperty(e,"IS_READ_ONLY",{enumerable:true,get:function(){return s.IS_READ_ONLY}});function transformArguments(t,e,r,s,o,u){const i=(0,n.transformArguments)(t,e,r,s,u);i.push(...o);i.preserve=o;return i}e.transformArguments=transformArguments;var o=r(8723);Object.defineProperty(e,"transformReply",{enumerable:true,get:function(){return o.transformGeoMembersWithReply}})},4923:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;const n=r(8723);e.FIRST_KEY_INDEX=1;e.IS_READ_ONLY=true;function transformArguments(t,e,r,s){return(0,n.pushGeoSearchArguments)(["GEOSEARCH"],t,e,r,s)}e.transformArguments=transformArguments},715:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;const n=r(8723);var s=r(4923);Object.defineProperty(e,"FIRST_KEY_INDEX",{enumerable:true,get:function(){return s.FIRST_KEY_INDEX}});Object.defineProperty(e,"IS_READ_ONLY",{enumerable:true,get:function(){return s.IS_READ_ONLY}});function transformArguments(t,e,r,s,o){const u=(0,n.pushGeoSearchArguments)(["GEOSEARCHSTORE",t],e,r,s,o);if(o?.STOREDIST){u.push("STOREDIST")}return u}e.transformArguments=transformArguments;function transformReply(t){if(typeof t!=="number"){throw new TypeError(`https://github.com/redis/redis/issues/9261`)}return t}e.transformReply=transformReply},7714:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;const n=r(4923);var s=r(4923);Object.defineProperty(e,"FIRST_KEY_INDEX",{enumerable:true,get:function(){return s.FIRST_KEY_INDEX}});Object.defineProperty(e,"IS_READ_ONLY",{enumerable:true,get:function(){return s.IS_READ_ONLY}});function transformArguments(t,e,r,s,o){const u=(0,n.transformArguments)(t,e,r,o);u.push(...s);u.preserve=s;return u}e.transformArguments=transformArguments;var o=r(8723);Object.defineProperty(e,"transformReply",{enumerable:true,get:function(){return o.transformGeoMembersWithReply}})},9453:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;e.IS_READ_ONLY=true;function transformArguments(t){return["GET",t]}e.transformArguments=transformArguments},9852:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;e.IS_READ_ONLY=true;function transformArguments(t,e){return["GETBIT",t,e.toString()]}e.transformArguments=transformArguments},4369:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;function transformArguments(t){return["GETDEL",t]}e.transformArguments=transformArguments},7575:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;const n=r(8723);e.FIRST_KEY_INDEX=1;function transformArguments(t,e){const r=["GETEX",t];if("EX"in e){r.push("EX",e.EX.toString())}else if("PX"in e){r.push("PX",e.PX.toString())}else if("EXAT"in e){r.push("EXAT",(0,n.transformEXAT)(e.EXAT))}else if("PXAT"in e){r.push("PXAT",(0,n.transformPXAT)(e.PXAT))}else{r.push("PERSIST")}return r}e.transformArguments=transformArguments},738:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;e.IS_READ_ONLY=true;function transformArguments(t,e,r){return["GETRANGE",t,e.toString(),r.toString()]}e.transformArguments=transformArguments},4197:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;function transformArguments(t,e){return["GETSET",t,e]}e.transformArguments=transformArguments},6171:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;const n=r(8723);e.FIRST_KEY_INDEX=1;function transformArguments(t,e){return(0,n.pushVerdictArguments)(["HDEL",t],e)}e.transformArguments=transformArguments},6851:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=void 0;function transformArguments(t){const e=["HELLO"];if(t){e.push(t.protover.toString());if(t.auth){e.push("AUTH",t.auth.username,t.auth.password)}if(t.clientName){e.push("SETNAME",t.clientName)}}return e}e.transformArguments=transformArguments;function transformReply(t){return{server:t[1],version:t[3],proto:t[5],id:t[7],mode:t[9],role:t[11],modules:t[13]}}e.transformReply=transformReply},2679:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;function transformArguments(t,e){return["HEXISTS",t,e]}e.transformArguments=transformArguments;var n=r(8723);Object.defineProperty(e,"transformReply",{enumerable:true,get:function(){return n.transformBooleanReply}})},3976:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;e.IS_READ_ONLY=true;function transformArguments(t,e){return["HGET",t,e]}e.transformArguments=transformArguments},8990:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;e.IS_READ_ONLY=true;function transformArguments(t){return["HGETALL",t]}e.transformArguments=transformArguments;var n=r(8723);Object.defineProperty(e,"transformReply",{enumerable:true,get:function(){return n.transformTuplesReply}})},4304:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;function transformArguments(t,e,r){return["HINCRBY",t,e,r.toString()]}e.transformArguments=transformArguments},4132:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;function transformArguments(t,e,r){return["HINCRBYFLOAT",t,e,r.toString()]}e.transformArguments=transformArguments},9478:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;function transformArguments(t){return["HKEYS",t]}e.transformArguments=transformArguments},5136:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;function transformArguments(t){return["HLEN",t]}e.transformArguments=transformArguments},4592:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;const n=r(8723);e.FIRST_KEY_INDEX=1;e.IS_READ_ONLY=true;function transformArguments(t,e){return(0,n.pushVerdictArguments)(["HMGET",t],e)}e.transformArguments=transformArguments},3046:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;e.IS_READ_ONLY=true;function transformArguments(t){return["HRANDFIELD",t]}e.transformArguments=transformArguments},9242:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;const n=r(3046);var s=r(3046);Object.defineProperty(e,"FIRST_KEY_INDEX",{enumerable:true,get:function(){return s.FIRST_KEY_INDEX}});Object.defineProperty(e,"IS_READ_ONLY",{enumerable:true,get:function(){return s.IS_READ_ONLY}});function transformArguments(t,e){return[...(0,n.transformArguments)(t),e.toString()]}e.transformArguments=transformArguments},2219:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;const n=r(9242);var s=r(9242);Object.defineProperty(e,"FIRST_KEY_INDEX",{enumerable:true,get:function(){return s.FIRST_KEY_INDEX}});Object.defineProperty(e,"IS_READ_ONLY",{enumerable:true,get:function(){return s.IS_READ_ONLY}});function transformArguments(t,e){return[...(0,n.transformArguments)(t,e),"WITHVALUES"]}e.transformArguments=transformArguments;var o=r(8723);Object.defineProperty(e,"transformReply",{enumerable:true,get:function(){return o.transformTuplesReply}})},9329:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;const n=r(8723);e.FIRST_KEY_INDEX=1;e.IS_READ_ONLY=true;function transformArguments(t,e,r){return(0,n.pushScanArguments)(["HSCAN",t],e,r)}e.transformArguments=transformArguments;function transformReply([t,e]){const r=[];for(let t=0;t<e.length;t+=2){r.push({field:e[t],value:e[t+1]})}return{cursor:Number(t),tuples:r}}e.transformReply=transformReply},9213:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;function transformArguments(...[t,e,r]){const n=["HSET",t];if(typeof e==="string"||typeof e==="number"||Buffer.isBuffer(e)){n.push(convertValue(e),convertValue(r))}else if(e instanceof Map){pushMap(n,e)}else if(Array.isArray(e)){pushTuples(n,e)}else{pushObject(n,e)}return n}e.transformArguments=transformArguments;function pushMap(t,e){for(const[r,n]of e.entries()){t.push(convertValue(r),convertValue(n))}}function pushTuples(t,e){for(const r of e){if(Array.isArray(r)){pushTuples(t,r);continue}t.push(convertValue(r))}}function pushObject(t,e){for(const r of Object.keys(e)){t.push(convertValue(r),convertValue(e[r]))}}function convertValue(t){return typeof t==="number"?t.toString():t}},3238:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;function transformArguments(t,e,r){return["HSETNX",t,e,r]}e.transformArguments=transformArguments;var n=r(8723);Object.defineProperty(e,"transformReply",{enumerable:true,get:function(){return n.transformBooleanReply}})},7069:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;function transformArguments(t,e){return["HSTRLEN",t,e]}e.transformArguments=transformArguments},7863:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;function transformArguments(t){return["HVALS",t]}e.transformArguments=transformArguments},9335:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;function transformArguments(t){return["INCR",t]}e.transformArguments=transformArguments},3842:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;function transformArguments(t,e){return["INCRBY",t,e.toString()]}e.transformArguments=transformArguments},4911:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;function transformArguments(t,e){return["INCRBYFLOAT",t,e.toString()]}e.transformArguments=transformArguments},2637:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.IS_READ_ONLY=void 0;e.IS_READ_ONLY=true;function transformArguments(t){const e=["INFO"];if(t){e.push(t)}return e}e.transformArguments=transformArguments},6009:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=void 0;function transformArguments(t){return["KEYS",t]}e.transformArguments=transformArguments},6263:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=e.IS_READ_ONLY=void 0;e.IS_READ_ONLY=true;function transformArguments(){return["LASTSAVE"]}e.transformArguments=transformArguments;function transformReply(t){return new Date(t)}e.transformReply=transformReply},399:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=void 0;function transformArguments(){return["LATENCY","DOCTOR"]}e.transformArguments=transformArguments},3005:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;e.IS_READ_ONLY=true;function transformArguments(t,e){return["LCS",t,e]}e.transformArguments=transformArguments},7148:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;const n=r(8723);const s=r(3005);var o=r(3005);Object.defineProperty(e,"FIRST_KEY_INDEX",{enumerable:true,get:function(){return o.FIRST_KEY_INDEX}});Object.defineProperty(e,"IS_READ_ONLY",{enumerable:true,get:function(){return o.IS_READ_ONLY}});function transformArguments(t,e){const r=(0,s.transformArguments)(t,e);r.push("IDX");return r}e.transformArguments=transformArguments;function transformReply(t){return{matches:t[1].map((([t,e])=>({key1:(0,n.transformRangeReply)(t),key2:(0,n.transformRangeReply)(e)}))),length:t[3]}}e.transformReply=transformReply},9206:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;const n=r(8723);const s=r(3005);var o=r(3005);Object.defineProperty(e,"FIRST_KEY_INDEX",{enumerable:true,get:function(){return o.FIRST_KEY_INDEX}});Object.defineProperty(e,"IS_READ_ONLY",{enumerable:true,get:function(){return o.IS_READ_ONLY}});function transformArguments(t,e){const r=(0,s.transformArguments)(t,e);r.push("IDX","WITHMATCHLEN");return r}e.transformArguments=transformArguments;function transformReply(t){return{matches:t[1].map((([t,e,r])=>({key1:(0,n.transformRangeReply)(t),key2:(0,n.transformRangeReply)(e),length:r}))),length:t[3]}}e.transformReply=transformReply},8940:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;const n=r(3005);var s=r(3005);Object.defineProperty(e,"FIRST_KEY_INDEX",{enumerable:true,get:function(){return s.FIRST_KEY_INDEX}});Object.defineProperty(e,"IS_READ_ONLY",{enumerable:true,get:function(){return s.IS_READ_ONLY}});function transformArguments(t,e){const r=(0,n.transformArguments)(t,e);r.push("LEN");return r}e.transformArguments=transformArguments},4033:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;e.IS_READ_ONLY=true;function transformArguments(t,e){return["LINDEX",t,e.toString()]}e.transformArguments=transformArguments},6116:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;function transformArguments(t,e,r,n){return["LINSERT",t,e,r,n]}e.transformArguments=transformArguments},6670:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;e.IS_READ_ONLY=true;function transformArguments(t){return["LLEN",t]}e.transformArguments=transformArguments},6539:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;function transformArguments(t,e,r,n){return["LMOVE",t,e,r,n]}e.transformArguments=transformArguments},3425:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;const n=r(8723);e.FIRST_KEY_INDEX=2;function transformArguments(t,e,r){return(0,n.transformLMPopArguments)(["LMPOP"],t,e,r)}e.transformArguments=transformArguments},1856:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.IS_READ_ONLY=void 0;e.IS_READ_ONLY=true;function transformArguments(t,...e){const r=["LOLWUT"];if(t){r.push("VERSION",t.toString(),...e.map(String))}return r}e.transformArguments=transformArguments},6219:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;function transformArguments(t){return["LPOP",t]}e.transformArguments=transformArguments},4173:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;function transformArguments(t,e){return["LPOP",t,e.toString()]}e.transformArguments=transformArguments},7430:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;e.IS_READ_ONLY=true;function transformArguments(t,e,r){const n=["LPOS",t,e];if(typeof r?.RANK==="number"){n.push("RANK",r.RANK.toString())}if(typeof r?.MAXLEN==="number"){n.push("MAXLEN",r.MAXLEN.toString())}return n}e.transformArguments=transformArguments},3157:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;var n=r(7430);Object.defineProperty(e,"FIRST_KEY_INDEX",{enumerable:true,get:function(){return n.FIRST_KEY_INDEX}});Object.defineProperty(e,"IS_READ_ONLY",{enumerable:true,get:function(){return n.IS_READ_ONLY}});function transformArguments(t,e,r,n){const s=["LPOS",t,e];if(typeof n?.RANK==="number"){s.push("RANK",n.RANK.toString())}s.push("COUNT",r.toString());if(typeof n?.MAXLEN==="number"){s.push("MAXLEN",n.MAXLEN.toString())}return s}e.transformArguments=transformArguments},7567:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;const n=r(8723);e.FIRST_KEY_INDEX=1;function transformArguments(t,e){return(0,n.pushVerdictArguments)(["LPUSH",t],e)}e.transformArguments=transformArguments},469:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;const n=r(8723);e.FIRST_KEY_INDEX=1;function transformArguments(t,e){return(0,n.pushVerdictArguments)(["LPUSHX",t],e)}e.transformArguments=transformArguments},1801:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;e.IS_READ_ONLY=true;function transformArguments(t,e,r){return["LRANGE",t,e.toString(),r.toString()]}e.transformArguments=transformArguments},8896:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;function transformArguments(t,e,r){return["LREM",t,e.toString(),r]}e.transformArguments=transformArguments},8517:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;function transformArguments(t,e,r){return["LSET",t,e.toString(),r]}e.transformArguments=transformArguments},9738:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;function transformArguments(t,e,r){return["LTRIM",t,e.toString(),r.toString()]}e.transformArguments=transformArguments},6796:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=void 0;function transformArguments(){return["MEMORY","DOCTOR"]}e.transformArguments=transformArguments},9752:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=void 0;function transformArguments(){return["MEMORY","MALLOC-STATS"]}e.transformArguments=transformArguments},8035:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=void 0;function transformArguments(){return["MEMORY","PURGE"]}e.transformArguments=transformArguments},3709:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=void 0;function transformArguments(){return["MEMORY","STATS"]}e.transformArguments=transformArguments;const r={"peak.allocated":"peakAllocated","total.allocated":"totalAllocated","startup.allocated":"startupAllocated","replication.backlog":"replicationBacklog","clients.slaves":"clientsReplicas","clients.normal":"clientsNormal","aof.buffer":"aofBuffer","lua.caches":"luaCaches","overhead.total":"overheadTotal","keys.count":"keysCount","keys.bytes-per-key":"keysBytesPerKey","dataset.bytes":"datasetBytes","dataset.percentage":"datasetPercentage","peak.percentage":"peakPercentage","allocator.allocated":"allocatorAllocated","allocator.active":"allocatorActive","allocator.resident":"allocatorResident","allocator-fragmentation.ratio":"allocatorFragmentationRatio","allocator-fragmentation.bytes":"allocatorFragmentationBytes","allocator-rss.ratio":"allocatorRssRatio","allocator-rss.bytes":"allocatorRssBytes","rss-overhead.ratio":"rssOverheadRatio","rss-overhead.bytes":"rssOverheadBytes",fragmentation:"fragmentation","fragmentation.bytes":"fragmentationBytes"},n={"overhead.hashtable.main":"overheadHashtableMain","overhead.hashtable.expires":"overheadHashtableExpires"};function transformReply(t){const e={db:{}};for(let s=0;s<t.length;s+=2){const o=t[s];if(o.startsWith("db.")){const r=t[s+1],u={};for(let t=0;t<r.length;t+=2){u[n[r[t]]]=r[t+1]}e.db[o.substring(3)]=u;continue}e[r[o]]=Number(t[s+1])}return e}e.transformReply=transformReply},191:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;e.IS_READ_ONLY=true;function transformArguments(t,e){const r=["MEMORY","USAGE",t];if(e?.SAMPLES){r.push("SAMPLES",e.SAMPLES.toString())}return r}e.transformArguments=transformArguments},5683:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;e.IS_READ_ONLY=true;function transformArguments(t){return["MGET",...t]}e.transformArguments=transformArguments},2870:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=void 0;function transformArguments(t,e,r,n,s,o){const u=["MIGRATE",t,e.toString()],i=Array.isArray(r);if(i){u.push('""')}else{u.push(r)}u.push(n.toString(),s.toString());if(o?.COPY){u.push("COPY")}if(o?.REPLACE){u.push("REPLACE")}if(o?.AUTH){if(o.AUTH.username){u.push("AUTH2",o.AUTH.username,o.AUTH.password)}else{u.push("AUTH",o.AUTH.password)}}if(i){u.push("KEYS",...r)}return u}e.transformArguments=transformArguments},5441:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=void 0;function transformArguments(){return["MODULE","LIST"]}e.transformArguments=transformArguments},5982:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=void 0;function transformArguments(t,e){const r=["MODULE","LOAD",t];if(e){r.push(...e)}return r}e.transformArguments=transformArguments},9257:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=void 0;function transformArguments(t){return["MODULE","UNLOAD",t]}e.transformArguments=transformArguments},4979:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;function transformArguments(t,e){return["MOVE",t,e.toString()]}e.transformArguments=transformArguments;var n=r(8723);Object.defineProperty(e,"transformReply",{enumerable:true,get:function(){return n.transformBooleanReply}})},9866:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;function transformArguments(t){const e=["MSET"];if(Array.isArray(t)){e.push(...t.flat())}else{for(const r of Object.keys(t)){e.push(r,t[r])}}return e}e.transformArguments=transformArguments},1526:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;function transformArguments(t){const e=["MSETNX"];if(Array.isArray(t)){e.push(...t.flat())}else{for(const r of Object.keys(t)){e.push(r,t[r])}}return e}e.transformArguments=transformArguments;var n=r(8723);Object.defineProperty(e,"transformReply",{enumerable:true,get:function(){return n.transformBooleanReply}})},4844:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=2;e.IS_READ_ONLY=true;function transformArguments(t){return["OBJECT","ENCODING",t]}e.transformArguments=transformArguments},8748:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=2;e.IS_READ_ONLY=true;function transformArguments(t){return["OBJECT","FREQ",t]}e.transformArguments=transformArguments},2604:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=2;e.IS_READ_ONLY=true;function transformArguments(t){return["OBJECT","IDLETIME",t]}e.transformArguments=transformArguments},8774:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=2;e.IS_READ_ONLY=true;function transformArguments(t){return["OBJECT","REFCOUNT",t]}e.transformArguments=transformArguments},8797:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;function transformArguments(t){return["PERSIST",t]}e.transformArguments=transformArguments;var n=r(8723);Object.defineProperty(e,"transformReply",{enumerable:true,get:function(){return n.transformBooleanReply}})},4150:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;function transformArguments(t,e,r){const n=["PEXPIRE",t,e.toString()];if(r){n.push(r)}return n}e.transformArguments=transformArguments;var n=r(8723);Object.defineProperty(e,"transformReply",{enumerable:true,get:function(){return n.transformBooleanReply}})},3722:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=e.FIRST_KEY_INDEX=void 0;const n=r(8723);e.FIRST_KEY_INDEX=1;function transformArguments(t,e,r){const s=["PEXPIREAT",t,(0,n.transformPXAT)(e)];if(r){s.push(r)}return s}e.transformArguments=transformArguments;var s=r(8723);Object.defineProperty(e,"transformReply",{enumerable:true,get:function(){return s.transformBooleanReply}})},9622:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;function transformArguments(t){return["PEXPIRETIME",t]}e.transformArguments=transformArguments},3510:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=e.FIRST_KEY_INDEX=void 0;const n=r(8723);e.FIRST_KEY_INDEX=1;function transformArguments(t,e){return(0,n.pushVerdictArguments)(["PFADD",t],e)}e.transformArguments=transformArguments;var s=r(8723);Object.defineProperty(e,"transformReply",{enumerable:true,get:function(){return s.transformBooleanReply}})},2739:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;const n=r(8723);e.FIRST_KEY_INDEX=1;function transformArguments(t){return(0,n.pushVerdictArguments)(["PFCOUNT"],t)}e.transformArguments=transformArguments},9383:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;const n=r(8723);e.FIRST_KEY_INDEX=1;function transformArguments(t,e){return(0,n.pushVerdictArguments)(["PFMERGE",t],e)}e.transformArguments=transformArguments},779:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=void 0;function transformArguments(){return["PING"]}e.transformArguments=transformArguments},6014:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;function transformArguments(t,e,r){return["PSETEX",t,e.toString(),r]}e.transformArguments=transformArguments},3672:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;e.IS_READ_ONLY=true;function transformArguments(t){return["PTTL",t]}e.transformArguments=transformArguments},4954:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=void 0;function transformArguments(t,e){return["PUBLISH",t,e]}e.transformArguments=transformArguments},4176:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.IS_READ_ONLY=void 0;e.IS_READ_ONLY=true;function transformArguments(t){const e=["PUBSUB","CHANNELS"];if(t){e.push(t)}return e}e.transformArguments=transformArguments},6740:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.IS_READ_ONLY=void 0;e.IS_READ_ONLY=true;function transformArguments(){return["PUBSUB","NUMPAT"]}e.transformArguments=transformArguments},2077:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=e.IS_READ_ONLY=void 0;const n=r(8723);e.IS_READ_ONLY=true;function transformArguments(t){const e=["PUBSUB","NUMSUB"];if(t){(0,n.pushVerdictArguments)(e,t)}return e}e.transformArguments=transformArguments;function transformReply(t){const e=Object.create(null);for(let r=0;r<t.length;r+=2){e[t[r]]=t[r+1]}return e}e.transformReply=transformReply},6297:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.IS_READ_ONLY=void 0;e.IS_READ_ONLY=true;function transformArguments(){return["RANDOMKEY"]}e.transformArguments=transformArguments},2725:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=void 0;function transformArguments(){return["READONLY"]}e.transformArguments=transformArguments},6827:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=void 0;function transformArguments(){return["READWRITE"]}e.transformArguments=transformArguments},8537:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;function transformArguments(t,e){return["RENAME",t,e]}e.transformArguments=transformArguments},9507:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;function transformArguments(t,e){return["RENAMENX",t,e]}e.transformArguments=transformArguments;var n=r(8723);Object.defineProperty(e,"transformReply",{enumerable:true,get:function(){return n.transformBooleanReply}})},2037:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=void 0;function transformArguments(t,e){return["REPLICAOF",t,e.toString()]}e.transformArguments=transformArguments},9068:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=void 0;function transformArguments(){return["RESTORE-ASKING"]}e.transformArguments=transformArguments},4009:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=e.IS_READ_ONLY=void 0;e.IS_READ_ONLY=true;function transformArguments(){return["ROLE"]}e.transformArguments=transformArguments;function transformReply(t){switch(t[0]){case"master":return{role:"master",replicationOffest:t[1],replicas:t[2].map((([t,e,r])=>({ip:t,port:Number(e),replicationOffest:Number(r)})))};case"slave":return{role:"slave",master:{ip:t[1],port:t[2]},state:t[3],dataReceived:t[4]};case"sentinel":return{role:"sentinel",masterNames:t[1]}}}e.transformReply=transformReply},1442:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;function transformArguments(t){return["RPOP",t]}e.transformArguments=transformArguments},8527:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;function transformArguments(t,e){return["RPOPLPUSH",t,e]}e.transformArguments=transformArguments},3761:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;function transformArguments(t,e){return["RPOP",t,e.toString()]}e.transformArguments=transformArguments},9254:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;const n=r(8723);e.FIRST_KEY_INDEX=1;function transformArguments(t,e){return(0,n.pushVerdictArguments)(["RPUSH",t],e)}e.transformArguments=transformArguments},7539:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;const n=r(8723);e.FIRST_KEY_INDEX=1;function transformArguments(t,e){return(0,n.pushVerdictArguments)(["RPUSHX",t],e)}e.transformArguments=transformArguments},9280:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;const n=r(8723);e.FIRST_KEY_INDEX=1;function transformArguments(t,e){return(0,n.pushVerdictArguments)(["SADD",t],e)}e.transformArguments=transformArguments},4501:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=void 0;function transformArguments(){return["SAVE"]}e.transformArguments=transformArguments},2184:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=e.IS_READ_ONLY=void 0;const n=r(8723);e.IS_READ_ONLY=true;function transformArguments(t,e){const r=(0,n.pushScanArguments)(["SCAN"],t,e);if(e?.TYPE){r.push("TYPE",e.TYPE)}return r}e.transformArguments=transformArguments;function transformReply([t,e]){return{cursor:Number(t),keys:e}}e.transformReply=transformReply},3923:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;function transformArguments(t){return["SCARD",t]}e.transformArguments=transformArguments},6258:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=void 0;function transformArguments(t){return["SCRIPT","DEBUG",t]}e.transformArguments=transformArguments},2544:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=void 0;const n=r(8723);function transformArguments(t){return(0,n.pushVerdictArguments)(["SCRIPT","EXISTS"],t)}e.transformArguments=transformArguments;var s=r(8723);Object.defineProperty(e,"transformReply",{enumerable:true,get:function(){return s.transformBooleanArrayReply}})},7559:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=void 0;function transformArguments(t){const e=["SCRIPT","FLUSH"];if(t){e.push(t)}return e}e.transformArguments=transformArguments},1349:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=void 0;function transformArguments(){return["SCRIPT","KILL"]}e.transformArguments=transformArguments},5676:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=void 0;function transformArguments(t){return["SCRIPT","LOAD",t]}e.transformArguments=transformArguments},4745:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;const n=r(8723);e.FIRST_KEY_INDEX=1;e.IS_READ_ONLY=true;function transformArguments(t){return(0,n.pushVerdictArguments)(["SDIFF"],t)}e.transformArguments=transformArguments},6862:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;const n=r(8723);e.FIRST_KEY_INDEX=1;function transformArguments(t,e){return(0,n.pushVerdictArguments)(["SDIFFSTORE",t],e)}e.transformArguments=transformArguments},276:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;function transformArguments(t,e,r){const n=["SET",t,typeof e==="number"?e.toString():e];if(r?.EX){n.push("EX",r.EX.toString())}else if(r?.PX){n.push("PX",r.PX.toString())}else if(r?.EXAT){n.push("EXAT",r.EXAT.toString())}else if(r?.PXAT){n.push("PXAT",r.PXAT.toString())}else if(r?.KEEPTTL){n.push("KEEPTTL")}if(r?.NX){n.push("NX")}else if(r?.XX){n.push("XX")}if(r?.GET){n.push("GET")}return n}e.transformArguments=transformArguments},1977:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;function transformArguments(t,e,r){return["SETBIT",t,e.toString(),r.toString()]}e.transformArguments=transformArguments},6179:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;function transformArguments(t,e,r){return["SETEX",t,e.toString(),r]}e.transformArguments=transformArguments},7493:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;function transformArguments(t,e){return["SETNX",t,e]}e.transformArguments=transformArguments;var n=r(8723);Object.defineProperty(e,"transformReply",{enumerable:true,get:function(){return n.transformBooleanReply}})},7896:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;function transformArguments(t,e,r){return["SETRANGE",t,e.toString(),r]}e.transformArguments=transformArguments},1286:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=void 0;function transformArguments(t){const e=["SHUTDOWN"];if(t){e.push(t)}return e}e.transformArguments=transformArguments},2745:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;const n=r(8723);e.FIRST_KEY_INDEX=1;e.IS_READ_ONLY=true;function transformArguments(t){return(0,n.pushVerdictArguments)(["SINTER"],t)}e.transformArguments=transformArguments},8822:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;const n=r(8723);e.FIRST_KEY_INDEX=2;e.IS_READ_ONLY=true;function transformArguments(t,e){const r=(0,n.pushVerdictArgument)(["SINTERCARD"],t);if(e){r.push("LIMIT",e.toString())}return r}e.transformArguments=transformArguments},4591:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;const n=r(8723);e.FIRST_KEY_INDEX=1;function transformArguments(t,e){return(0,n.pushVerdictArguments)(["SINTERSTORE",t],e)}e.transformArguments=transformArguments},7254:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;function transformArguments(t,e){return["SISMEMBER",t,e]}e.transformArguments=transformArguments;var n=r(8723);Object.defineProperty(e,"transformReply",{enumerable:true,get:function(){return n.transformBooleanReply}})},3479:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;function transformArguments(t){return["SMEMBERS",t]}e.transformArguments=transformArguments},4895:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;function transformArguments(t,e){return["SMISMEMBER",t,...e]}e.transformArguments=transformArguments;var n=r(8723);Object.defineProperty(e,"transformReply",{enumerable:true,get:function(){return n.transformBooleanArrayReply}})},9841:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;function transformArguments(t,e,r){return["SMOVE",t,e,r]}e.transformArguments=transformArguments;var n=r(8723);Object.defineProperty(e,"transformReply",{enumerable:true,get:function(){return n.transformBooleanReply}})},5303:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;const n=r(8723);e.FIRST_KEY_INDEX=1;function transformArguments(t,e){return(0,n.pushSortArguments)(["SORT",t],e)}e.transformArguments=transformArguments},3333:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;const n=r(8723);e.FIRST_KEY_INDEX=1;e.IS_READ_ONLY=true;function transformArguments(t,e){return(0,n.pushSortArguments)(["SORT_RO",t],e)}e.transformArguments=transformArguments},4910:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;const n=r(5303);e.FIRST_KEY_INDEX=1;function transformArguments(t,e,r){const s=(0,n.transformArguments)(t,r);s.push("STORE",e);return s}e.transformArguments=transformArguments},7167:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;function transformArguments(t,e){const r=["SPOP",t];if(typeof e==="number"){r.push(e.toString())}return r}e.transformArguments=transformArguments},247:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;function transformArguments(t){return["SRANDMEMBER",t]}e.transformArguments=transformArguments},3277:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;const n=r(247);var s=r(247);Object.defineProperty(e,"FIRST_KEY_INDEX",{enumerable:true,get:function(){return s.FIRST_KEY_INDEX}});function transformArguments(t,e){return[...(0,n.transformArguments)(t),e.toString()]}e.transformArguments=transformArguments},1263:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;const n=r(8723);e.FIRST_KEY_INDEX=1;function transformArguments(t,e){return(0,n.pushVerdictArguments)(["SREM",t],e)}e.transformArguments=transformArguments},3231:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;const n=r(8723);e.FIRST_KEY_INDEX=1;e.IS_READ_ONLY=true;function transformArguments(t,e,r){return(0,n.pushScanArguments)(["SSCAN",t],e,r)}e.transformArguments=transformArguments;function transformReply([t,e]){return{cursor:Number(t),members:e}}e.transformReply=transformReply},4141:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;e.IS_READ_ONLY=true;function transformArguments(t){return["STRLEN",t]}e.transformArguments=transformArguments},7878:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;const n=r(8723);e.FIRST_KEY_INDEX=1;e.IS_READ_ONLY=true;function transformArguments(t){return(0,n.pushVerdictArguments)(["SUNION"],t)}e.transformArguments=transformArguments},7173:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;const n=r(8723);e.FIRST_KEY_INDEX=1;function transformArguments(t,e){return(0,n.pushVerdictArguments)(["SUNIONSTORE",t],e)}e.transformArguments=transformArguments},4742:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=void 0;function transformArguments(t,e){return["SWAPDB",t.toString(),e.toString()]}e.transformArguments=transformArguments},5709:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=void 0;function transformArguments(){return["TIME"]}e.transformArguments=transformArguments;function transformReply(t){const e=Number(t[0]),r=Number(t[1]),n=new Date(e*1e3+r/1e3);n.microseconds=r;return n}e.transformReply=transformReply},8831:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;const n=r(8723);e.FIRST_KEY_INDEX=1;function transformArguments(t){return(0,n.pushVerdictArguments)(["TOUCH"],t)}e.transformArguments=transformArguments},8818:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;e.IS_READ_ONLY=true;function transformArguments(t){return["TTL",t]}e.transformArguments=transformArguments},6209:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;e.IS_READ_ONLY=true;function transformArguments(t){return["TYPE",t]}e.transformArguments=transformArguments},2802:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;const n=r(8723);e.FIRST_KEY_INDEX=1;function transformArguments(t){return(0,n.pushVerdictArguments)(["UNLINK"],t)}e.transformArguments=transformArguments},425:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=void 0;function transformArguments(){return["UNWATCH"]}e.transformArguments=transformArguments},6595:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;function transformArguments(t,e){return["WAIT",t.toString(),e.toString()]}e.transformArguments=transformArguments},5086:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;const n=r(8723);e.FIRST_KEY_INDEX=1;function transformArguments(t){return(0,n.pushVerdictArguments)(["WATCH"],t)}e.transformArguments=transformArguments},4389:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;const n=r(8723);e.FIRST_KEY_INDEX=1;function transformArguments(t,e,r){return(0,n.pushVerdictArguments)(["XACK",t,e],r)}e.transformArguments=transformArguments},9894:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;function transformArguments(t,e,r,n){const s=["XADD",t];if(n?.NOMKSTREAM){s.push("NOMKSTREAM")}if(n?.TRIM){if(n.TRIM.strategy){s.push(n.TRIM.strategy)}if(n.TRIM.strategyModifier){s.push(n.TRIM.strategyModifier)}s.push(n.TRIM.threshold.toString());if(n.TRIM.limit){s.push("LIMIT",n.TRIM.limit.toString())}}s.push(e);for(const[t,e]of Object.entries(r)){s.push(t,e)}return s}e.transformArguments=transformArguments},887:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=e.FIRST_KEY_INDEX=void 0;const n=r(8723);e.FIRST_KEY_INDEX=1;function transformArguments(t,e,r,n,s,o){const u=["XAUTOCLAIM",t,e,r,n.toString(),s];if(o?.COUNT){u.push("COUNT",o.COUNT.toString())}return u}e.transformArguments=transformArguments;function transformReply(t){return{nextId:t[0],messages:(0,n.transformStreamMessagesReply)(t[1])}}e.transformReply=transformReply},7172:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=e.FIRST_KEY_INDEX=void 0;const n=r(887);var s=r(887);Object.defineProperty(e,"FIRST_KEY_INDEX",{enumerable:true,get:function(){return s.FIRST_KEY_INDEX}});function transformArguments(...t){return[...(0,n.transformArguments)(...t),"JUSTID"]}e.transformArguments=transformArguments;function transformReply(t){return{nextId:t[0],messages:t[1]}}e.transformReply=transformReply},7931:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=e.FIRST_KEY_INDEX=void 0;const n=r(8723);e.FIRST_KEY_INDEX=1;function transformArguments(t,e,r,s,o,u){const i=["XCLAIM",t,e,r,s.toString()];(0,n.pushVerdictArguments)(i,o);if(u?.IDLE){i.push("IDLE",u.IDLE.toString())}if(u?.TIME){i.push("TIME",(typeof u.TIME==="number"?u.TIME:u.TIME.getTime()).toString())}if(u?.RETRYCOUNT){i.push("RETRYCOUNT",u.RETRYCOUNT.toString())}if(u?.FORCE){i.push("FORCE")}return i}e.transformArguments=transformArguments;var s=r(8723);Object.defineProperty(e,"transformReply",{enumerable:true,get:function(){return s.transformStreamMessagesReply}})},8287:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;const n=r(7931);var s=r(7931);Object.defineProperty(e,"FIRST_KEY_INDEX",{enumerable:true,get:function(){return s.FIRST_KEY_INDEX}});function transformArguments(...t){return[...(0,n.transformArguments)(...t),"JUSTID"]}e.transformArguments=transformArguments},5828:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;const n=r(8723);e.FIRST_KEY_INDEX=1;function transformArguments(t,e){return(0,n.pushVerdictArguments)(["XDEL",t],e)}e.transformArguments=transformArguments},1412:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=2;function transformArguments(t,e,r,n){const s=["XGROUP","CREATE",t,e,r];if(n?.MKSTREAM){s.push("MKSTREAM")}return s}e.transformArguments=transformArguments},1446:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=2;function transformArguments(t,e,r){return["XGROUP","CREATECONSUMER",t,e,r]}e.transformArguments=transformArguments;var n=r(8723);Object.defineProperty(e,"transformReply",{enumerable:true,get:function(){return n.transformBooleanReply}})},4695:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=2;function transformArguments(t,e,r){return["XGROUP","DELCONSUMER",t,e,r]}e.transformArguments=transformArguments},1522:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=2;function transformArguments(t,e){return["XGROUP","DESTROY",t,e]}e.transformArguments=transformArguments;var n=r(8723);Object.defineProperty(e,"transformReply",{enumerable:true,get:function(){return n.transformBooleanReply}})},4726:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=2;function transformArguments(t,e,r){return["XGROUP","SETID",t,e,r]}e.transformArguments=transformArguments},389:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=2;e.IS_READ_ONLY=true;function transformArguments(t,e){return["XINFO","CONSUMERS",t,e]}e.transformArguments=transformArguments;function transformReply(t){return t.map((t=>({name:t[1],pending:t[3],idle:t[5]})))}e.transformReply=transformReply},9145:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=2;e.IS_READ_ONLY=true;function transformArguments(t){return["XINFO","GROUPS",t]}e.transformArguments=transformArguments;function transformReply(t){return t.map((t=>({name:t[1],consumers:t[3],pending:t[5],lastDeliveredId:t[7]})))}e.transformReply=transformReply},4617:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;const n=r(8723);e.FIRST_KEY_INDEX=2;e.IS_READ_ONLY=true;function transformArguments(t){return["XINFO","STREAM",t]}e.transformArguments=transformArguments;function transformReply(t){const e={};for(let r=0;r<t.length;r+=2){switch(t[r]){case"length":e.length=t[r+1];break;case"radix-tree-keys":e.radixTreeKeys=t[r+1];break;case"radix-tree-nodes":e.radixTreeNodes=t[r+1];break;case"groups":e.groups=t[r+1];break;case"last-generated-id":e.lastGeneratedId=t[r+1];break;case"first-entry":e.firstEntry=t[r+1]?{id:t[r+1][0],message:(0,n.transformTuplesReply)(t[r+1][1])}:null;break;case"last-entry":e.lastEntry=t[r+1]?{id:t[r+1][0],message:(0,n.transformTuplesReply)(t[r+1][1])}:null;break}}return e}e.transformReply=transformReply},1309:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;e.IS_READ_ONLY=true;function transformArguments(t){return["XLEN",t]}e.transformArguments=transformArguments},6760:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;e.IS_READ_ONLY=true;function transformArguments(t,e){return["XPENDING",t,e]}e.transformArguments=transformArguments;function transformReply(t){return{pending:t[0],firstId:t[1],lastId:t[2],consumers:t[3]===null?null:t[3].map((([t,e])=>({name:t,deliveriesCounter:Number(e)})))}}e.transformReply=transformReply},3615:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;e.IS_READ_ONLY=true;function transformArguments(t,e,r,n,s,o){const u=["XPENDING",t,e];if(o?.IDLE){u.push("IDLE",o.IDLE.toString())}u.push(r,n,s.toString());if(o?.consumer){u.push(o.consumer)}return u}e.transformArguments=transformArguments;function transformReply(t){return t.map((([t,e,r,n])=>({id:t,owner:e,millisecondsSinceLastDelivery:r,deliveriesCounter:n})))}e.transformReply=transformReply},1565:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;e.IS_READ_ONLY=true;function transformArguments(t,e,r,n){const s=["XRANGE",t,e,r];if(n?.COUNT){s.push("COUNT",n.COUNT.toString())}return s}e.transformArguments=transformArguments;var n=r(8723);Object.defineProperty(e,"transformReply",{enumerable:true,get:function(){return n.transformStreamMessagesReply}})},8266:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;const FIRST_KEY_INDEX=t=>Array.isArray(t)?t[0].key:t.key;e.FIRST_KEY_INDEX=FIRST_KEY_INDEX;e.IS_READ_ONLY=true;function transformArguments(t,e){const r=["XREAD"];if(e?.COUNT){r.push("COUNT",e.COUNT.toString())}if(typeof e?.BLOCK==="number"){r.push("BLOCK",e.BLOCK.toString())}r.push("STREAMS");const n=Array.isArray(t)?t:[t],s=r.length;for(let t=0;t<n.length;t++){const e=n[t];r[s+t]=e.key;r[s+n.length+t]=e.id}return r}e.transformArguments=transformArguments;var n=r(8723);Object.defineProperty(e,"transformReply",{enumerable:true,get:function(){return n.transformStreamsMessagesReply}})},7851:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;const FIRST_KEY_INDEX=(t,e,r)=>Array.isArray(r)?r[0].key:r.key;e.FIRST_KEY_INDEX=FIRST_KEY_INDEX;e.IS_READ_ONLY=true;function transformArguments(t,e,r,n){const s=["XREADGROUP","GROUP",t,e];if(n?.COUNT){s.push("COUNT",n.COUNT.toString())}if(typeof n?.BLOCK==="number"){s.push("BLOCK",n.BLOCK.toString())}if(n?.NOACK){s.push("NOACK")}s.push("STREAMS");const o=Array.isArray(r)?r:[r],u=s.length;for(let t=0;t<o.length;t++){const e=o[t];s[u+t]=e.key;s[u+o.length+t]=e.id}return s}e.transformArguments=transformArguments;var n=r(8723);Object.defineProperty(e,"transformReply",{enumerable:true,get:function(){return n.transformStreamsMessagesReply}})},6498:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;e.IS_READ_ONLY=true;function transformArguments(t,e,r,n){const s=["XREVRANGE",t,e,r];if(n?.COUNT){s.push("COUNT",n.COUNT.toString())}return s}e.transformArguments=transformArguments;var n=r(8723);Object.defineProperty(e,"transformReply",{enumerable:true,get:function(){return n.transformStreamMessagesReply}})},830:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;function transformArguments(t,e,r){const n=["XSETID",t,e];if(r?.ENTRIESADDED){n.push("ENTRIESADDED",r.ENTRIESADDED.toString())}if(r?.MAXDELETEDID){n.push("MAXDELETEDID",r.MAXDELETEDID)}return n}e.transformArguments=transformArguments},3013:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;function transformArguments(t,e,r,n){const s=["XTRIM",t,e];if(n?.strategyModifier){s.push(n.strategyModifier)}s.push(r.toString());if(n?.LIMIT){s.push("LIMIT",n.LIMIT.toString())}return s}e.transformArguments=transformArguments},5602:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=e.FIRST_KEY_INDEX=void 0;const n=r(8723);e.FIRST_KEY_INDEX=1;function transformArguments(t,e,r){const s=["ZADD",t];if(r?.NX){s.push("NX")}else{if(r?.XX){s.push("XX")}if(r?.GT){s.push("GT")}else if(r?.LT){s.push("LT")}}if(r?.CH){s.push("CH")}if(r?.INCR){s.push("INCR")}for(const{score:t,value:r}of Array.isArray(e)?e:[e]){s.push((0,n.transformNumberInfinityArgument)(t),r)}return s}e.transformArguments=transformArguments;var s=r(8723);Object.defineProperty(e,"transformReply",{enumerable:true,get:function(){return s.transformNumberInfinityReply}})},6864:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;e.IS_READ_ONLY=true;function transformArguments(t){return["ZCARD",t]}e.transformArguments=transformArguments},4684:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;const n=r(8723);e.FIRST_KEY_INDEX=1;e.IS_READ_ONLY=true;function transformArguments(t,e,r){return["ZCOUNT",t,(0,n.transformStringNumberInfinityArgument)(e),(0,n.transformStringNumberInfinityArgument)(r)]}e.transformArguments=transformArguments},2092:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;const n=r(8723);e.FIRST_KEY_INDEX=2;e.IS_READ_ONLY=true;function transformArguments(t){return(0,n.pushVerdictArgument)(["ZDIFF"],t)}e.transformArguments=transformArguments},5608:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;const n=r(8723);e.FIRST_KEY_INDEX=1;function transformArguments(t,e){return(0,n.pushVerdictArgument)(["ZDIFFSTORE",t],e)}e.transformArguments=transformArguments},5466:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;const n=r(2092);var s=r(2092);Object.defineProperty(e,"FIRST_KEY_INDEX",{enumerable:true,get:function(){return s.FIRST_KEY_INDEX}});Object.defineProperty(e,"IS_READ_ONLY",{enumerable:true,get:function(){return s.IS_READ_ONLY}});function transformArguments(...t){return[...(0,n.transformArguments)(...t),"WITHSCORES"]}e.transformArguments=transformArguments;var o=r(8723);Object.defineProperty(e,"transformReply",{enumerable:true,get:function(){return o.transformSortedSetWithScoresReply}})},928:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=e.FIRST_KEY_INDEX=void 0;const n=r(8723);e.FIRST_KEY_INDEX=1;function transformArguments(t,e,r){return["ZINCRBY",t,(0,n.transformNumberInfinityArgument)(e),r]}e.transformArguments=transformArguments;var s=r(8723);Object.defineProperty(e,"transformReply",{enumerable:true,get:function(){return s.transformNumberInfinityReply}})},3931:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;const n=r(8723);e.FIRST_KEY_INDEX=2;e.IS_READ_ONLY=true;function transformArguments(t,e){const r=(0,n.pushVerdictArgument)(["ZINTER"],t);if(e?.WEIGHTS){r.push("WEIGHTS",...e.WEIGHTS.map((t=>t.toString())))}if(e?.AGGREGATE){r.push("AGGREGATE",e.AGGREGATE)}return r}e.transformArguments=transformArguments},3921:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;const n=r(8723);e.FIRST_KEY_INDEX=2;e.IS_READ_ONLY=true;function transformArguments(t,e){const r=(0,n.pushVerdictArgument)(["ZINTERCARD"],t);if(e){r.push("LIMIT",e.toString())}return r}e.transformArguments=transformArguments},8793:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;const n=r(8723);e.FIRST_KEY_INDEX=1;function transformArguments(t,e,r){const s=(0,n.pushVerdictArgument)(["ZINTERSTORE",t],e);if(r?.WEIGHTS){s.push("WEIGHTS",...r.WEIGHTS.map((t=>t.toString())))}if(r?.AGGREGATE){s.push("AGGREGATE",r.AGGREGATE)}return s}e.transformArguments=transformArguments},9259:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;const n=r(3931);var s=r(3931);Object.defineProperty(e,"FIRST_KEY_INDEX",{enumerable:true,get:function(){return s.FIRST_KEY_INDEX}});Object.defineProperty(e,"IS_READ_ONLY",{enumerable:true,get:function(){return s.IS_READ_ONLY}});function transformArguments(...t){return[...(0,n.transformArguments)(...t),"WITHSCORES"]}e.transformArguments=transformArguments;var o=r(8723);Object.defineProperty(e,"transformReply",{enumerable:true,get:function(){return o.transformSortedSetWithScoresReply}})},8230:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;e.IS_READ_ONLY=true;function transformArguments(t,e,r){return["ZLEXCOUNT",t,e,r]}e.transformArguments=transformArguments},4225:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=e.FIRST_KEY_INDEX=void 0;const n=r(8723);e.FIRST_KEY_INDEX=2;function transformArguments(t,e,r){return(0,n.transformZMPopArguments)(["ZMPOP"],t,e,r)}e.transformArguments=transformArguments;function transformReply(t){return t===null?null:{key:t[0],elements:t[1].map(n.transformSortedSetMemberReply)}}e.transformReply=transformReply},6634:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;const n=r(8723);e.FIRST_KEY_INDEX=1;e.IS_READ_ONLY=true;function transformArguments(t,e){return(0,n.pushVerdictArguments)(["ZMSCORE",t],e)}e.transformArguments=transformArguments;var s=r(8723);Object.defineProperty(e,"transformReply",{enumerable:true,get:function(){return s.transformNumberInfinityNullArrayReply}})},1562:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;function transformArguments(t){return["ZPOPMAX",t]}e.transformArguments=transformArguments;var n=r(8723);Object.defineProperty(e,"transformReply",{enumerable:true,get:function(){return n.transformSortedSetMemberNullReply}})},5198:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=e.FIRST_KEY_INDEX=void 0;const n=r(1562);var s=r(1562);Object.defineProperty(e,"FIRST_KEY_INDEX",{enumerable:true,get:function(){return s.FIRST_KEY_INDEX}});function transformArguments(t,e){return[...(0,n.transformArguments)(t),e.toString()]}e.transformArguments=transformArguments;var o=r(8723);Object.defineProperty(e,"transformReply",{enumerable:true,get:function(){return o.transformSortedSetWithScoresReply}})},7311:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;function transformArguments(t){return["ZPOPMIN",t]}e.transformArguments=transformArguments;var n=r(8723);Object.defineProperty(e,"transformReply",{enumerable:true,get:function(){return n.transformSortedSetMemberNullReply}})},6848:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=e.FIRST_KEY_INDEX=void 0;const n=r(7311);var s=r(7311);Object.defineProperty(e,"FIRST_KEY_INDEX",{enumerable:true,get:function(){return s.FIRST_KEY_INDEX}});function transformArguments(t,e){return[...(0,n.transformArguments)(t),e.toString()]}e.transformArguments=transformArguments;var o=r(8723);Object.defineProperty(e,"transformReply",{enumerable:true,get:function(){return o.transformSortedSetWithScoresReply}})},4697:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;e.IS_READ_ONLY=true;function transformArguments(t){return["ZRANDMEMBER",t]}e.transformArguments=transformArguments},5182:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;const n=r(4697);var s=r(4697);Object.defineProperty(e,"FIRST_KEY_INDEX",{enumerable:true,get:function(){return s.FIRST_KEY_INDEX}});Object.defineProperty(e,"IS_READ_ONLY",{enumerable:true,get:function(){return s.IS_READ_ONLY}});function transformArguments(t,e){return[...(0,n.transformArguments)(t),e.toString()]}e.transformArguments=transformArguments},8155:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;const n=r(5182);var s=r(5182);Object.defineProperty(e,"FIRST_KEY_INDEX",{enumerable:true,get:function(){return s.FIRST_KEY_INDEX}});Object.defineProperty(e,"IS_READ_ONLY",{enumerable:true,get:function(){return s.IS_READ_ONLY}});function transformArguments(...t){return[...(0,n.transformArguments)(...t),"WITHSCORES"]}e.transformArguments=transformArguments;var o=r(8723);Object.defineProperty(e,"transformReply",{enumerable:true,get:function(){return o.transformSortedSetWithScoresReply}})},7752:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;const n=r(8723);e.FIRST_KEY_INDEX=1;e.IS_READ_ONLY=true;function transformArguments(t,e,r,s){const o=["ZRANGE",t,(0,n.transformStringNumberInfinityArgument)(e),(0,n.transformStringNumberInfinityArgument)(r)];switch(s?.BY){case"SCORE":o.push("BYSCORE");break;case"LEX":o.push("BYLEX");break}if(s?.REV){o.push("REV")}if(s?.LIMIT){o.push("LIMIT",s.LIMIT.offset.toString(),s.LIMIT.count.toString())}return o}e.transformArguments=transformArguments},6778:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;const n=r(8723);e.FIRST_KEY_INDEX=1;e.IS_READ_ONLY=true;function transformArguments(t,e,r,s){const o=["ZRANGEBYLEX",t,(0,n.transformStringNumberInfinityArgument)(e),(0,n.transformStringNumberInfinityArgument)(r)];if(s?.LIMIT){o.push("LIMIT",s.LIMIT.offset.toString(),s.LIMIT.count.toString())}return o}e.transformArguments=transformArguments},3063:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;const n=r(8723);e.FIRST_KEY_INDEX=1;e.IS_READ_ONLY=true;function transformArguments(t,e,r,s){const o=["ZRANGEBYSCORE",t,(0,n.transformStringNumberInfinityArgument)(e),(0,n.transformStringNumberInfinityArgument)(r)];if(s?.LIMIT){o.push("LIMIT",s.LIMIT.offset.toString(),s.LIMIT.count.toString())}return o}e.transformArguments=transformArguments},170:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;const n=r(3063);var s=r(3063);Object.defineProperty(e,"FIRST_KEY_INDEX",{enumerable:true,get:function(){return s.FIRST_KEY_INDEX}});Object.defineProperty(e,"IS_READ_ONLY",{enumerable:true,get:function(){return s.IS_READ_ONLY}});function transformArguments(t,e,r,s){return[...(0,n.transformArguments)(t,e,r,s),"WITHSCORES"]}e.transformArguments=transformArguments;var o=r(8723);Object.defineProperty(e,"transformReply",{enumerable:true,get:function(){return o.transformSortedSetWithScoresReply}})},4961:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=e.FIRST_KEY_INDEX=void 0;const n=r(8723);e.FIRST_KEY_INDEX=1;function transformArguments(t,e,r,s,o){const u=["ZRANGESTORE",t,e,(0,n.transformStringNumberInfinityArgument)(r),(0,n.transformStringNumberInfinityArgument)(s)];switch(o?.BY){case"SCORE":u.push("BYSCORE");break;case"LEX":u.push("BYLEX");break}if(o?.REV){u.push("REV")}if(o?.LIMIT){u.push("LIMIT",o.LIMIT.offset.toString(),o.LIMIT.count.toString())}if(o?.WITHSCORES){u.push("WITHSCORES")}return u}e.transformArguments=transformArguments;function transformReply(t){if(typeof t!=="number"){throw new TypeError(`Upgrade to Redis 6.2.5 and up (https://github.com/redis/redis/pull/9089)`)}return t}e.transformReply=transformReply},9083:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;const n=r(7752);var s=r(7752);Object.defineProperty(e,"FIRST_KEY_INDEX",{enumerable:true,get:function(){return s.FIRST_KEY_INDEX}});Object.defineProperty(e,"IS_READ_ONLY",{enumerable:true,get:function(){return s.IS_READ_ONLY}});function transformArguments(...t){return[...(0,n.transformArguments)(...t),"WITHSCORES"]}e.transformArguments=transformArguments;var o=r(8723);Object.defineProperty(e,"transformReply",{enumerable:true,get:function(){return o.transformSortedSetWithScoresReply}})},9666:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;e.IS_READ_ONLY=true;function transformArguments(t,e){return["ZRANK",t,e]}e.transformArguments=transformArguments},8953:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;const n=r(8723);e.FIRST_KEY_INDEX=1;function transformArguments(t,e){return(0,n.pushVerdictArguments)(["ZREM",t],e)}e.transformArguments=transformArguments},8474:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;const n=r(8723);e.FIRST_KEY_INDEX=1;function transformArguments(t,e,r){return["ZREMRANGEBYLEX",t,(0,n.transformStringNumberInfinityArgument)(e),(0,n.transformStringNumberInfinityArgument)(r)]}e.transformArguments=transformArguments},2548:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;function transformArguments(t,e,r){return["ZREMRANGEBYRANK",t,e.toString(),r.toString()]}e.transformArguments=transformArguments},3980:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;const n=r(8723);e.FIRST_KEY_INDEX=1;function transformArguments(t,e,r){return["ZREMRANGEBYSCORE",t,(0,n.transformStringNumberInfinityArgument)(e),(0,n.transformStringNumberInfinityArgument)(r)]}e.transformArguments=transformArguments},8520:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;e.IS_READ_ONLY=true;function transformArguments(t,e){return["ZREVRANK",t,e]}e.transformArguments=transformArguments},7500:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;const n=r(8723);e.FIRST_KEY_INDEX=1;e.IS_READ_ONLY=true;function transformArguments(t,e,r){return(0,n.pushScanArguments)(["ZSCAN",t],e,r)}e.transformArguments=transformArguments;function transformReply([t,e]){const r=[];for(let t=0;t<e.length;t+=2){r.push({value:e[t],score:(0,n.transformNumberInfinityReply)(e[t+1])})}return{cursor:Number(t),members:r}}e.transformReply=transformReply},232:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;e.FIRST_KEY_INDEX=1;e.IS_READ_ONLY=true;function transformArguments(t,e){return["ZSCORE",t,e]}e.transformArguments=transformArguments;var n=r(8723);Object.defineProperty(e,"transformReply",{enumerable:true,get:function(){return n.transformNumberInfinityNullReply}})},519:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;const n=r(8723);e.FIRST_KEY_INDEX=2;e.IS_READ_ONLY=true;function transformArguments(t,e){const r=(0,n.pushVerdictArgument)(["ZUNION"],t);if(e?.WEIGHTS){r.push("WEIGHTS",...e.WEIGHTS.map((t=>t.toString())))}if(e?.AGGREGATE){r.push("AGGREGATE",e.AGGREGATE)}return r}e.transformArguments=transformArguments},339:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformArguments=e.FIRST_KEY_INDEX=void 0;const n=r(8723);e.FIRST_KEY_INDEX=1;function transformArguments(t,e,r){const s=(0,n.pushVerdictArgument)(["ZUNIONSTORE",t],e);if(r?.WEIGHTS){s.push("WEIGHTS",...r.WEIGHTS.map((t=>t.toString())))}if(r?.AGGREGATE){s.push("AGGREGATE",r.AGGREGATE)}return s}e.transformArguments=transformArguments},7686:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformReply=e.transformArguments=e.IS_READ_ONLY=e.FIRST_KEY_INDEX=void 0;const n=r(519);var s=r(519);Object.defineProperty(e,"FIRST_KEY_INDEX",{enumerable:true,get:function(){return s.FIRST_KEY_INDEX}});Object.defineProperty(e,"IS_READ_ONLY",{enumerable:true,get:function(){return s.IS_READ_ONLY}});function transformArguments(...t){return[...(0,n.transformArguments)(...t),"WITHSCORES"]}e.transformArguments=transformArguments;var o=r(8723);Object.defineProperty(e,"transformReply",{enumerable:true,get:function(){return o.transformSortedSetWithScoresReply}})},8723:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.transformRangeReply=e.pushSlotRangesArguments=e.pushSortArguments=e.transformFunctionListItemReply=e.RedisFunctionFlags=e.transformCommandReply=e.CommandCategories=e.CommandFlags=e.pushOptionalVerdictArgument=e.pushVerdictArgument=e.pushVerdictNumberArguments=e.pushVerdictArguments=e.pushEvalArguments=e.evalFirstKeyIndex=e.transformPXAT=e.transformEXAT=e.transformGeoMembersWithReply=e.GeoReplyWith=e.pushGeoRadiusStoreArguments=e.pushGeoRadiusArguments=e.pushGeoSearchArguments=e.pushGeoCountArgument=e.transformLMPopArguments=e.transformZMPopArguments=e.transformSortedSetWithScoresReply=e.transformSortedSetMemberReply=e.transformSortedSetMemberNullReply=e.transformStreamsMessagesReply=e.transformStreamMessagesReply=e.transformTuplesReply=e.transformStringNumberInfinityArgument=e.transformNumberInfinityArgument=e.transformNumberInfinityNullArrayReply=e.transformNumberInfinityNullReply=e.transformNumberInfinityReply=e.pushScanArguments=e.transformBooleanArrayReply=e.transformBooleanReply=void 0;function transformBooleanReply(t){return t===1}e.transformBooleanReply=transformBooleanReply;function transformBooleanArrayReply(t){return t.map(transformBooleanReply)}e.transformBooleanArrayReply=transformBooleanArrayReply;function pushScanArguments(t,e,r){t.push(e.toString());if(r?.MATCH){t.push("MATCH",r.MATCH)}if(r?.COUNT){t.push("COUNT",r.COUNT.toString())}return t}e.pushScanArguments=pushScanArguments;function transformNumberInfinityReply(t){switch(t.toString()){case"+inf":return Infinity;case"-inf":return-Infinity;default:return Number(t)}}e.transformNumberInfinityReply=transformNumberInfinityReply;function transformNumberInfinityNullReply(t){if(t===null)return null;return transformNumberInfinityReply(t)}e.transformNumberInfinityNullReply=transformNumberInfinityNullReply;function transformNumberInfinityNullArrayReply(t){return t.map(transformNumberInfinityNullReply)}e.transformNumberInfinityNullArrayReply=transformNumberInfinityNullArrayReply;function transformNumberInfinityArgument(t){switch(t){case Infinity:return"+inf";case-Infinity:return"-inf";default:return t.toString()}}e.transformNumberInfinityArgument=transformNumberInfinityArgument;function transformStringNumberInfinityArgument(t){if(typeof t!=="number")return t;return transformNumberInfinityArgument(t)}e.transformStringNumberInfinityArgument=transformStringNumberInfinityArgument;function transformTuplesReply(t){const e=Object.create(null);for(let r=0;r<t.length;r+=2){e[t[r].toString()]=t[r+1]}return e}e.transformTuplesReply=transformTuplesReply;function transformStreamMessagesReply(t){const e=[];for(const[r,n]of t){e.push({id:r,message:transformTuplesReply(n)})}return e}e.transformStreamMessagesReply=transformStreamMessagesReply;function transformStreamsMessagesReply(t){if(t===null)return null;return t.map((([t,e])=>({name:t,messages:transformStreamMessagesReply(e)})))}e.transformStreamsMessagesReply=transformStreamsMessagesReply;function transformSortedSetMemberNullReply(t){if(!t.length)return null;return transformSortedSetMemberReply(t)}e.transformSortedSetMemberNullReply=transformSortedSetMemberNullReply;function transformSortedSetMemberReply(t){return{value:t[0],score:transformNumberInfinityReply(t[1])}}e.transformSortedSetMemberReply=transformSortedSetMemberReply;function transformSortedSetWithScoresReply(t){const e=[];for(let r=0;r<t.length;r+=2){e.push({value:t[r],score:transformNumberInfinityReply(t[r+1])})}return e}e.transformSortedSetWithScoresReply=transformSortedSetWithScoresReply;function transformZMPopArguments(t,e,r,n){pushVerdictArgument(t,e);t.push(r);if(n?.COUNT){t.push("COUNT",n.COUNT.toString())}return t}e.transformZMPopArguments=transformZMPopArguments;function transformLMPopArguments(t,e,r,n){pushVerdictArgument(t,e);t.push(r);if(n?.COUNT){t.push("COUNT",n.COUNT.toString())}return t}e.transformLMPopArguments=transformLMPopArguments;function pushGeoCountArgument(t,e){if(typeof e==="number"){t.push("COUNT",e.toString())}else if(e){t.push("COUNT",e.value.toString());if(e.ANY){t.push("ANY")}}return t}e.pushGeoCountArgument=pushGeoCountArgument;function pushGeoSearchArguments(t,e,r,n,s){t.push(e);if(typeof r==="string"){t.push("FROMMEMBER",r)}else{t.push("FROMLONLAT",r.longitude.toString(),r.latitude.toString())}if("radius"in n){t.push("BYRADIUS",n.radius.toString())}else{t.push("BYBOX",n.width.toString(),n.height.toString())}t.push(n.unit);if(s?.SORT){t.push(s.SORT)}pushGeoCountArgument(t,s?.COUNT);return t}e.pushGeoSearchArguments=pushGeoSearchArguments;function pushGeoRadiusArguments(t,e,r,n,s,o){t.push(e);if(typeof r==="string"){t.push(r)}else{t.push(r.longitude.toString(),r.latitude.toString())}t.push(n.toString(),s);if(o?.SORT){t.push(o.SORT)}pushGeoCountArgument(t,o?.COUNT);return t}e.pushGeoRadiusArguments=pushGeoRadiusArguments;function pushGeoRadiusStoreArguments(t,e,r,n,s,o,u){pushGeoRadiusArguments(t,e,r,n,s,u);if(u?.STOREDIST){t.push("STOREDIST",o)}else{t.push("STORE",o)}return t}e.pushGeoRadiusStoreArguments=pushGeoRadiusStoreArguments;var r;(function(t){t["DISTANCE"]="WITHDIST";t["HASH"]="WITHHASH";t["COORDINATES"]="WITHCOORD"})(r=e.GeoReplyWith||(e.GeoReplyWith={}));function transformGeoMembersWithReply(t,e){const n=new Set(e);let s=0;const o=n.has(r.DISTANCE)&&++s,u=n.has(r.HASH)&&++s,i=n.has(r.COORDINATES)&&++s;return t.map((t=>{const e={member:t[0]};if(o){e.distance=t[o]}if(u){e.hash=t[u]}if(i){const[r,n]=t[i];e.coordinates={longitude:r,latitude:n}}return e}))}e.transformGeoMembersWithReply=transformGeoMembersWithReply;function transformEXAT(t){return(typeof t==="number"?t:Math.floor(t.getTime()/1e3)).toString()}e.transformEXAT=transformEXAT;function transformPXAT(t){return(typeof t==="number"?t:t.getTime()).toString()}e.transformPXAT=transformPXAT;function evalFirstKeyIndex(t){return t?.keys?.[0]}e.evalFirstKeyIndex=evalFirstKeyIndex;function pushEvalArguments(t,e){if(e?.keys){t.push(e.keys.length.toString(),...e.keys)}else{t.push("0")}if(e?.arguments){t.push(...e.arguments)}return t}e.pushEvalArguments=pushEvalArguments;function pushVerdictArguments(t,e){if(Array.isArray(e)){t.push(...e)}else{t.push(e)}return t}e.pushVerdictArguments=pushVerdictArguments;function pushVerdictNumberArguments(t,e){if(Array.isArray(e)){for(const r of e){t.push(r.toString())}}else{t.push(e.toString())}return t}e.pushVerdictNumberArguments=pushVerdictNumberArguments;function pushVerdictArgument(t,e){if(Array.isArray(e)){t.push(e.length.toString(),...e)}else{t.push("1",e)}return t}e.pushVerdictArgument=pushVerdictArgument;function pushOptionalVerdictArgument(t,e,r){if(r===undefined)return t;t.push(e);return pushVerdictArgument(t,r)}e.pushOptionalVerdictArgument=pushOptionalVerdictArgument;var n;(function(t){t["WRITE"]="write";t["READONLY"]="readonly";t["DENYOOM"]="denyoom";t["ADMIN"]="admin";t["PUBSUB"]="pubsub";t["NOSCRIPT"]="noscript";t["RANDOM"]="random";t["SORT_FOR_SCRIPT"]="sort_for_script";t["LOADING"]="loading";t["STALE"]="stale";t["SKIP_MONITOR"]="skip_monitor";t["ASKING"]="asking";t["FAST"]="fast";t["MOVABLEKEYS"]="movablekeys"})(n=e.CommandFlags||(e.CommandFlags={}));var s;(function(t){t["KEYSPACE"]="@keyspace";t["READ"]="@read";t["WRITE"]="@write";t["SET"]="@set";t["SORTEDSET"]="@sortedset";t["LIST"]="@list";t["HASH"]="@hash";t["STRING"]="@string";t["BITMAP"]="@bitmap";t["HYPERLOGLOG"]="@hyperloglog";t["GEO"]="@geo";t["STREAM"]="@stream";t["PUBSUB"]="@pubsub";t["ADMIN"]="@admin";t["FAST"]="@fast";t["SLOW"]="@slow";t["BLOCKING"]="@blocking";t["DANGEROUS"]="@dangerous";t["CONNECTION"]="@connection";t["TRANSACTION"]="@transaction";t["SCRIPTING"]="@scripting"})(s=e.CommandCategories||(e.CommandCategories={}));function transformCommandReply([t,e,r,n,s,o,u]){return{name:t,arity:e,flags:new Set(r),firstKeyIndex:n,lastKeyIndex:s,step:o,categories:new Set(u)}}e.transformCommandReply=transformCommandReply;var o;(function(t){t["NO_WRITES"]="no-writes";t["ALLOW_OOM"]="allow-oom";t["ALLOW_STALE"]="allow-stale";t["NO_CLUSTER"]="no-cluster"})(o=e.RedisFunctionFlags||(e.RedisFunctionFlags={}));function transformFunctionListItemReply(t){return{libraryName:t[1],engine:t[3],functions:t[5].map((t=>({name:t[1],description:t[3],flags:t[5]})))}}e.transformFunctionListItemReply=transformFunctionListItemReply;function pushSortArguments(t,e){if(e?.BY){t.push("BY",e.BY)}if(e?.LIMIT){t.push("LIMIT",e.LIMIT.offset.toString(),e.LIMIT.count.toString())}if(e?.GET){for(const r of typeof e.GET==="string"?[e.GET]:e.GET){t.push("GET",r)}}if(e?.DIRECTION){t.push(e.DIRECTION)}if(e?.ALPHA){t.push("ALPHA")}return t}e.pushSortArguments=pushSortArguments;function pushSlotRangeArguments(t,e){t.push(e.start.toString(),e.end.toString())}function pushSlotRangesArguments(t,e){if(Array.isArray(e)){for(const r of e){pushSlotRangeArguments(t,r)}}else{pushSlotRangeArguments(t,e)}return t}e.pushSlotRangesArguments=pushSlotRangesArguments;function transformRangeReply([t,e]){return{start:t,end:e}}e.transformRangeReply=transformRangeReply},8783:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.ErrorReply=e.ReconnectStrategyError=e.RootNodesUnavailableError=e.SocketClosedUnexpectedlyError=e.DisconnectsClientError=e.ClientClosedError=e.ConnectionTimeoutError=e.WatchError=e.AbortError=void 0;class AbortError extends Error{constructor(){super("The command was aborted")}}e.AbortError=AbortError;class WatchError extends Error{constructor(){super("One (or more) of the watched keys has been changed")}}e.WatchError=WatchError;class ConnectionTimeoutError extends Error{constructor(){super("Connection timeout")}}e.ConnectionTimeoutError=ConnectionTimeoutError;class ClientClosedError extends Error{constructor(){super("The client is closed")}}e.ClientClosedError=ClientClosedError;class DisconnectsClientError extends Error{constructor(){super("Disconnects client")}}e.DisconnectsClientError=DisconnectsClientError;class SocketClosedUnexpectedlyError extends Error{constructor(){super("Socket closed unexpectedly")}}e.SocketClosedUnexpectedlyError=SocketClosedUnexpectedlyError;class RootNodesUnavailableError extends Error{constructor(){super("All the root nodes are unavailable")}}e.RootNodesUnavailableError=RootNodesUnavailableError;class ReconnectStrategyError extends Error{constructor(t,e){super(t.message);Object.defineProperty(this,"originalError",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(this,"socketError",{enumerable:true,configurable:true,writable:true,value:void 0});this.originalError=t;this.socketError=e}}e.ReconnectStrategyError=ReconnectStrategyError;class ErrorReply extends Error{constructor(t){super(t);this.stack=undefined}}e.ErrorReply=ErrorReply},6268:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.scriptSha1=e.defineScript=void 0;const n=r(6113);function defineScript(t){return{...t,SHA1:scriptSha1(t.SCRIPT)}}e.defineScript=defineScript;function scriptSha1(t){return(0,n.createHash)("sha1").update(t).digest("hex")}e.scriptSha1=scriptSha1},4022:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});const n=r(3867);const s=r(8783);class RedisMultiCommand{constructor(){Object.defineProperty(this,"queue",{enumerable:true,configurable:true,writable:true,value:[]});Object.defineProperty(this,"scriptsInUse",{enumerable:true,configurable:true,writable:true,value:new Set})}static generateChainId(){return Symbol("RedisMultiCommand Chain Id")}addCommand(t,e){this.queue.push({args:t,transformReply:e})}addFunction(t,e,r){const s=(0,n.fCallArguments)(t,e,e.transformArguments(...r));this.queue.push({args:s,transformReply:e.transformReply});return s}addScript(t,e){const r=[];if(this.scriptsInUse.has(t.SHA1)){r.push("EVALSHA",t.SHA1)}else{this.scriptsInUse.add(t.SHA1);r.push("EVAL",t.SCRIPT)}if(t.NUMBER_OF_KEYS!==undefined){r.push(t.NUMBER_OF_KEYS.toString())}const n=t.transformArguments(...e);r.push(...n);if(n.preserve){r.preserve=n.preserve}this.addCommand(r,t.transformReply);return r}exec(){if(!this.queue.length){return}return[{args:["MULTI"]},...this.queue,{args:["EXEC"]}]}handleExecReplies(t){const e=t[t.length-1];if(e===null){throw new s.WatchError}return this.transformReplies(e)}transformReplies(t){return t.map(((t,e)=>{const{transformReply:r,args:n}=this.queue[e];return r?r(t,n.preserve):t}))}}e["default"]=RedisMultiCommand},4767:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.promiseTimeout=void 0;function promiseTimeout(t){return new Promise((e=>setTimeout(e,t)))}e.promiseTimeout=promiseTimeout},6113:t=>{"use strict";t.exports=require("crypto")},2361:t=>{"use strict";t.exports=require("events")},1808:t=>{"use strict";t.exports=require("net")},1576:t=>{"use strict";t.exports=require("string_decoder")},4404:t=>{"use strict";t.exports=require("tls")},7310:t=>{"use strict";t.exports=require("url")}};var e={};function __nccwpck_require__(r){var n=e[r];if(n!==undefined){return n.exports}var s=e[r]={exports:{}};var o=true;try{t[r].call(s.exports,s,s.exports,__nccwpck_require__);o=false}finally{if(o)delete e[r]}return s.exports}if(typeof __nccwpck_require__!=="undefined")__nccwpck_require__.ab=__dirname+"/";var r=__nccwpck_require__(990);module.exports=r})();